(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[96965,13047,24661,90984],{108679:(e,t,o)=>{var n=o(121296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?s:a[e.$$typeof]||r}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,o,n){if("string"!=typeof o){if(h){var r=p(o);r&&r!==h&&e(t,r,n)}var s=d(o);u&&(s=s.concat(u(o)));for(var a=l(t),m=l(o),f=0;f<s.length;++f){var b=s[f];if(!(i[b]||n&&n[b]||m&&m[b]||a&&a[b])){var g=_(o,b);try{c(t,b,g)}catch(v){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,r=o?Symbol.for("react.portal"):60106,i=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,_=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case _:case l:return e;default:return t}}case m:case h:case r:return t}}}function b(e){return f(e)===u}t.typeOf=f,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=_,t.Fragment=i,t.Lazy=m,t.Memo=h,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===l||e.$$typeof===c||e.$$typeof===_)},t.isAsyncMode=function(e){return b(e)||f(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return f(e)===c},t.isContextProvider=function(e){return f(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return f(e)===_},t.isFragment=function(e){return f(e)===i},t.isLazy=function(e){return f(e)===m},t.isMemo=function(e){return f(e)===h},t.isPortal=function(e){return f(e)===r},t.isProfiler=function(e){return f(e)===a},t.isStrictMode=function(e){return f(e)===s},t.isSuspense=function(e){return f(e)===p}},121296:(e,t,o)=>{e.exports=o(396103)},727561:(e,t,o)=>{var n=o(567990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},567990:e=>{var t=/\s/;e.exports=function(e){for(var o=e.length;o--&&t.test(e.charAt(o)););return o}},23279:(e,t,o)=>{var n=o(513218),r=o(707771),i=o(14841),s=Math.max,a=Math.min;e.exports=function(e,t,o){var l,c,d,u,_,p,h=0,m=!1,f=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var o=l,n=c;return l=c=void 0,h=t,u=e.apply(n,o)}function v(e){return h=e,_=setTimeout(x,t),m?g(e):u}function y(e){var o=e-p;return void 0===p||o>=t||o<0||f&&e-h>=d}function x(){var e=r();if(y(e))return S(e);_=setTimeout(x,function(e){var o=t-(e-p);return f?a(o,d-(e-h)):o}(e))}function S(e){return _=void 0,b&&l?g(e):(l=c=void 0,u)}function E(){var e=r(),o=y(e);if(l=arguments,c=this,p=e,o){if(void 0===_)return v(p);if(f)return clearTimeout(_),_=setTimeout(x,t),g(p)}return void 0===_&&(_=setTimeout(x,t)),u}return t=i(t)||0,n(o)&&(m=!!o.leading,d=(f="maxWait"in o)?s(i(o.maxWait)||0,t):d,b="trailing"in o?!!o.trailing:b),E.cancel=function(){void 0!==_&&clearTimeout(_),h=0,l=p=c=_=void 0},E.flush=function(){return void 0===_?u:S(r())},E}},733448:(e,t,o)=>{var n=o(644239),r=o(637005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},707771:(e,t,o)=>{var n=o(555639);e.exports=function(){return n.Date.now()}},14841:(e,t,o)=>{var n=o(727561),r=o(513218),i=o(733448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var o=a.test(e);return o||l.test(e)?c(e.slice(2),o?2:8):s.test(e)?NaN:+e}},869921:(e,t)=>{var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,r=o?Symbol.for("react.portal"):60106,i=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,_=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.suspense_list"):60120,m=o?Symbol.for("react.memo"):60115,f=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.block"):60121,g=o?Symbol.for("react.fundamental"):60117,v=o?Symbol.for("react.responder"):60118,y=o?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case _:case f:case m:case l:return e;default:return t}}case r:return t}}}function S(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=_,t.Fragment=i,t.Lazy=f,t.Memo=m,t.Portal=r,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||x(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===_},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===f},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===r},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===_||e.$$typeof===g||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b)},t.typeOf=x},659864:(e,t,o)=>{e.exports=o(869921)},560053:(e,t)=>{function o(e,t){var o=e.length;e.push(t);e:for(;0<o;){var n=o-1>>>1,r=e[n];if(!(0<i(r,t)))break e;e[n]=t,e[o]=r,o=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],o=e.pop();if(o!==t){e[0]=o;e:for(var n=0,r=e.length,s=r>>>1;n<s;){var a=2*(n+1)-1,l=e[a],c=a+1,d=e[c];if(0>i(l,o))c<r&&0>i(d,l)?(e[n]=d,e[c]=o,n=c):(e[n]=l,e[a]=o,n=a);else{if(!(c<r&&0>i(d,o)))break e;e[n]=d,e[c]=o,n=c}}}return t}function i(e,t){var o=e.sortIndex-t.sortIndex;return 0!==o?o:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,_=null,p=3,h=!1,m=!1,f=!1,b="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,o(c,t)}t=n(d)}}function x(e){if(f=!1,y(e),!m)if(null!==n(c))m=!0,N(S);else{var t=n(d);null!==t&&D(x,t.startTime-e)}}function S(e,o){m=!1,f&&(f=!1,g(R),R=-1),h=!0;var i=p;try{for(y(o),_=n(c);null!==_&&(!(_.expirationTime>o)||e&&!I());){var s=_.callback;if("function"==typeof s){_.callback=null,p=_.priorityLevel;var a=s(_.expirationTime<=o);o=t.unstable_now(),"function"==typeof a?_.callback=a:_===n(c)&&r(c),y(o)}else r(c);_=n(c)}if(null!==_)var l=!0;else{var u=n(d);null!==u&&D(x,u.startTime-o),l=!1}return l}finally{_=null,p=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,w=!1,P=null,R=-1,A=5,T=-1;function I(){return!(t.unstable_now()-T<A)}function C(){if(null!==P){var e=t.unstable_now();T=e;var o=!0;try{o=P(!0,e)}finally{o?E():(w=!1,P=null)}}else w=!1}if("function"==typeof v)E=function(){v(C)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,L=O.port2;O.port1.onmessage=C,E=function(){L.postMessage(null)}}else E=function(){b(C,0)};function N(e){P=e,w||(w=!0,E())}function D(e,o){R=b((function(){e(t.unstable_now())}),o)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var o=p;p=t;try{return e()}finally{p=o}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var o=p;p=e;try{return t()}finally{p=o}},t.unstable_scheduleCallback=function(e,r,i){var s=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,o(d,e),null===n(c)&&e===n(d)&&(f?(g(R),R=-1):f=!0,D(x,i-s))):(e.sortIndex=a,o(c,e),m||h||(m=!0,N(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var o=p;p=t;try{return e.apply(this,arguments)}finally{p=o}}}},363840:(e,t,o)=>{e.exports=o(560053)},653250:(e,t,o)=>{var n=o(667294);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!r(e,o)}catch(n){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),n=i({inst:{value:o,getSnapshot:t}}),r=n[0].inst,d=n[1];return a((function(){r.value=o,r.getSnapshot=t,c(r)&&d({inst:r})}),[e,o,t]),s((function(){return c(r)&&d({inst:r}),e((function(){c(r)&&d({inst:r})}))}),[e]),l(o),o};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},950139:(e,t,o)=>{var n=o(667294),r=o(61688);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,o,n,r){var u=a(null);if(null===u.current){var _={hasValue:!1,value:null};u.current=_}else _=u.current;u=c((function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==r&&_.hasValue){var t=_.value;if(r(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var o=n(e);return void 0!==r&&r(t,o)?t:(s=e,a=o)}var s,a,l=!1,c=void 0===o?null:o;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,o,n,r]);var p=s(e,u[0],u[1]);return l((function(){_.hasValue=!0,_.value=p}),[p]),d(p),p}},61688:(e,t,o)=>{e.exports=o(653250)},552798:(e,t,o)=>{e.exports=o(950139)},707853:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(907620);const r=new(o(883119).H3)([n.N])},32509:(e,t,o)=>{o.d(t,{Z:()=>a,e:()=>s});var n=o(966338),r=o(883119),i=o(785893);const s=new r.Ry(1);function a({children:e,isImagePinForUnauthOnTablet:t}){const o=(0,n.useSelector)((({session:e})=>e.isAuthenticated));return(0,i.jsxs)(r.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:o?void 0:s,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,i.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},907620:(e,t,o)=>{o.d(t,{N:()=>v,Z:()=>y});var n=o(667294),r=o(223815),i=o(529285),s=o(898781),a=o(925927),l=o(867820),c=o(883119),d=o(785893);function u({icon:e}){const{hide:t}=(0,i.Z)(),o=(0,s.ZP)(),n=(0,a.TH)();return(0,d.jsx)(r.Z,{children:(0,d.jsx)(c.xu,{"data-test-id":"expandButton",children:(0,d.jsx)(c.hU,{icon:e||"maximize",size:e?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:o._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("mweb_pin_page.pin_image.enlarge_image"),(0,l.NC)("click_expand_image"),(0,l.LW)({action:"click",pageLocation:n,item:"expand-button",within:"pin-image"}),t()}})})})}var _=o(700380),p=o(50286),h=o(792182),m=o(32509),f=o(444445);const b=.3,g=.75,v=new c.H3([m.e]),y=({children:e,closableDrawer:t})=>{var o;const{hide:r}=(0,i.Z)(),s=(0,n.useRef)(null),a=(0,n.useRef)(null),[l,m]=(0,n.useState)(null),[y,x]=(0,n.useState)(0),[S,E]=(0,n.useState)(!1),w=(null===(o=(0,h.Z)())||void 0===o?void 0:o.height)||0,[P,R]=(0,n.useState)(!1),A=(0,p.ZP)(),T=null!=l?l:.75*w,I=()=>{var e;const t=(null===(e=s.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&w>0?t-w*b+60:0};return(0,n.useEffect)((()=>{const e=()=>{var e;const t=(null===(e=s.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+T>t&&r()};e();const t=(0,_.Z)(e,10);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[r,T]),(0,d.jsxs)(n.Fragment,{children:[(0,d.jsxs)(c.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"white",zIndex:v,height:null===l?"25vh":`calc(100vh - ${l}px)`,dangerouslySetInlineStyle:{__style:{...S?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{},borderRadius:0===l&&S?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"}},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:a,onTouchStart:e=>{const{clientY:t}=e.touches[0];x(t),E(!1)},onTouchMove:e=>{e.preventDefault();const{clientY:t}=e.touches[0],o=null!=l?l:.75*window.innerHeight,n=t-y;if(null!==o&&n){const e=w*b,t=w*g,i=Math.floor(Math.min(t,Math.max(e,o+n)));m(i);const s=I();if(w>0&&s>0){const e=s*(r=i/w,1-(Math.max(b,Math.min(g,r))-b)/.45);window.pageYOffset<e&&window.scrollTo({top:e})}i<.525*w&&R(!0)}var r;x(t)},onTouchEnd:()=>{if(P){E(!0);m(w*b);const e=I();e&&window.scrollTo({top:e,behavior:"smooth"}),R(!1)}},children:["desktop"!==A&&(t?(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:t?0:4,paddingY:1,children:(0,d.jsx)(u,{icon:"cancel"})}):(0,d.jsx)(c.xu,{position:"absolute",top:!0,right:!0,children:(0,d.jsx)(c.xu,{position:"absolute",bottom:!0,right:!0,children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsx)(u,{})})})})),(0,d.jsx)(c.xu,{paddingX:f.D6,children:e})]}),(0,d.jsx)(c.xu,{ref:s,height:"100vh"})]})}},529285:(e,t,o)=>{o.d(t,{Z:()=>c,t:()=>l});var n=o(667294),r=o(867820),i=o(925927),s=o(785893);const a=(0,n.createContext)({isHidden:!0,hide:()=>{}});function l({children:e,isEligible:t}){const[o,l]=(0,n.useState)(!t),{pathname:c}=(0,i.TH)();(0,n.useEffect)((()=>{l(!t)}),[c,t]);const d=(0,n.useCallback)((()=>{(0,r.My)("web_unification.expand_click.hide_drawer"),l(!0)}),[]),u=(0,n.useMemo)((()=>({isHidden:o,hide:d})),[o,d]);return(0,s.jsx)(a.Provider,{value:u,children:e})}const c=()=>(0,n.useContext)(a)},435874:(e,t,o)=>{o.d(t,{N:()=>r,t:()=>n});const n=0,r=1},347556:(e,t,o)=>{o.d(t,{Hn:()=>r,Jw:()=>d,PS:()=>p,U5:()=>c,UT:()=>i,Ws:()=>s,cK:()=>u,cy:()=>l,o4:()=>a,tr:()=>n,vA:()=>_});const n=3,r="has_done_closeup",i=[503459,503761],s="Gender",a="InterestPicker",l="LoadingStep",c="CreatorStep",d="AppInstall",u={NUX_GENDER_STEP_NAME:s,NUX_INTEREST_PICKER_STEP_NAME:a,NUX_LOADING_STEP_NAME:l,NUX_CREATOR_STEP_NAME:c,NUX_APP_INSTALL_STEP_NAME:d},_="mweb_content_first_activation_skippable_tp",p="mweb_cfa_full_modal_opt_in_tp"},568388:(e,t,o)=>{o.d(t,{Z:()=>h,z:()=>c});var n=o(667294),r=o(966338),i=o(391254),s=o(281180),a=o(883119),l=o(785893);const c=2500,d={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},_={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},p={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},h=(0,n.memo)((({children:e})=>{const t=(0,s.Tt)(),o=(0,r.useSelector)((({pins:e})=>{const o=null==t?void 0:t.last_repin_id;return o?e[o]:null})),n=(0,r.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!o||!n)return e;const{images:c}=o,{height:h,width:m,url:f}=(null==c?void 0:c["136x136"])||(null==c?void 0:c["236x"])||{};return(0,l.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(i.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,l.jsxs)(a.xu,{position:"relative",children:[(0,l.jsxs)(a.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:d,children:[(0,l.jsx)(a.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,l.jsx)(a.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:_,children:(0,l.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(a.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=m?m:1,naturalHeight:null!=h?h:1,src:null!=f?f:""})})})]}),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:p,children:e})]})]})}))},569046:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(966338),r=o(568388),i=o(708206),s=o(185894),a=o(343341),l=o(785893);const c=(0,i.compose)((0,n.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,s.a5)()),showRepinAnimation:()=>e((0,s.WF)())}})),(function(e){return t=>{const{hideRepinAnimation:o,showRepinAnimation:n}=t,{showToast:i,showOneToast:s}=(0,a.F9)();return(0,l.jsx)(e,{...t,showToast:i,showOneToast:s,showRepinConfirmation:(e,t)=>{t||n(),setTimeout((()=>{t||o(),i(e)}),r.z)}})}}))},777918:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(966338),r=o(941646),i=o(898781),s=o(969230),a=o(867820),l=o(266725),c=o(883119),d=o(925927),u=o(785893);function _({alignIconLeft:e,bgColor:t,color:o,disableRedirect:_=!1,fallbackUrl:p,icon:h="arrow-back",onTouch:m,padding:f,placement:b,shouldUseFallbackUrl:g,size:v="lg",viewParameter:y,viewType:x}){const S=(0,i.ZP)(),E=(0,d.k6)(),w=(0,d.TH)(),P=(0,n.useSelector)((e=>e.session.isAuthenticated)),R=()=>{(0,s.y3)({action:"back_button_click",placement:b,isAuthenticated:P}),(0,a.LW)({action:"click",pageLocation:w,item:"back-button"}),x&&y&&(0,l.So)({view_type:x,view_parameter:y,element:34}),m&&m(),_||((!w.key||w.state&&"redirect"===w.state.referrer||g)&&p?E.push(p):w.pathname.includes("/password/reset/")&&w.search&&w.search.includes("?nativeShouldDismiss=true")?E.push("/login/?dismissWebview=true"):E.goBack())};return(0,u.jsx)(r.Z,{id:"back-button",children:e?(0,u.jsx)(c.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===h?-1:-2,children:(0,u.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:o,icon:h,onClick:R,padding:"auto"!==f?f:2,size:v})}):(0,u.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:o,icon:h,onClick:R,padding:"auto"!==f?f:2,size:v})})}},877867:(e,t,o)=>{o.d(t,{a:()=>l});var n=o(499128),r=o(388008),i=o(789363),s=o(56961),a=o(785893);const l=({dispatch:e,i18n:t,showToast:o,newPinId:l,shouldRefresh:c=!1,sourcePinId:d,boardId:u,boardSectionId:_,onError:p,originalPinId:h,onSuccess:m})=>e((0,s.q$)(l,u,_)).then((()=>{h&&e((0,s.t_)(h,u,_)),e((0,s.t_)(d,u,_)),c&&(_&&e((0,i.A4)(_)),u&&e((0,r.uD)(u))),o((({hideToast:e})=>(0,a.jsx)(n.ZP,{text:t._('Pin deleted!', 'Utils.Unsave.Success', 'User deleted their pin'),onHide:e}))),m&&m()})).catch((()=>{o((({hideToast:e})=>(0,a.jsx)(n.ZP,{variant:"error",text:t._('Sorry! There was an error deleting your Pin.', 'Utils.Unsave.Error', 'Error when user tried to delete pin'),onHide:e}))),null==p||p()}))},778193:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(966338),r=o(925927),i=o(785893);function s(e){return(0,n.useSelector)((({session:e})=>e.isAuthenticated))?null:(0,i.jsx)(r.l_,{to:e})}},969230:(e,t,o)=>{o.d(t,{BV:()=>_,Zm:()=>u,h3:()=>l,vR:()=>s,wp:()=>c,xH:()=>a,y3:()=>d});var n=o(435874),r=o(867820);let i;const s=()=>{const e=i.getState().session;if(!e.isMobile&&!e.isTablet)return"desktop";switch(e.userAgentPlatform){case"ios":return"iphone";case"android":return e.isTablet?"android_tablet":"android";case"ipad":return"ipad";default:return"mobile_other"}},a=(e,t)=>{const o=4===t?3456:3455;return e===n.N?o:3050},l=({action:e,type:t,trigger:o})=>{(0,r.De)({action:e,event:"success",type:t,trigger:o})},c=({action:e,type:t,trigger:o})=>{(0,r.De)({action:e,event:"fail",type:t,trigger:o})},d=({action:e,placement:t,isAuthenticated:o})=>{(0,r.My)(`mweb_${e}.${String(t)}.is_auth_${String(o)}`)},u=e=>{i=e},_=e=>{(0,r.My)(e)}},983360:(e,t,o)=>{o.d(t,{$f:()=>we,$o:()=>u,$t:()=>$,AO:()=>ve,AZ:()=>R,Ae:()=>M,Aj:()=>C,BM:()=>v,By:()=>ye,CB:()=>Oe,CD:()=>A,DC:()=>k,Df:()=>N,E0:()=>a,EN:()=>be,F5:()=>c,Fi:()=>E,Fl:()=>g,GG:()=>pe,H6:()=>Pe,HQ:()=>re,Hh:()=>Ze,IY:()=>Se,JG:()=>le,K0:()=>d,KW:()=>f,Kp:()=>xe,L6:()=>s,LB:()=>V,Ly:()=>oe,MA:()=>te,MU:()=>r,NE:()=>Ne,OC:()=>O,OO:()=>ue,Pu:()=>D,Pz:()=>de,Qj:()=>me,ST:()=>De,Th:()=>ce,Tl:()=>P,U1:()=>Q,UD:()=>Fe,VP:()=>T,Wn:()=>x,XA:()=>Ee,XV:()=>y,Xi:()=>G,YZ:()=>h,Yn:()=>L,Z0:()=>Re,ZX:()=>H,a6:()=>Be,a9:()=>j,aj:()=>ne,b6:()=>m,bC:()=>n,c7:()=>z,cZ:()=>J,cs:()=>Y,dF:()=>Z,dO:()=>Ie,eI:()=>ee,eP:()=>he,fz:()=>p,gM:()=>Ae,hC:()=>He,hl:()=>U,iZ:()=>je,ib:()=>i,il:()=>Me,j_:()=>ke,kh:()=>W,l_:()=>_,le:()=>se,lj:()=>Ue,mU:()=>Ce,nk:()=>S,o3:()=>ge,pM:()=>q,pV:()=>ae,pd:()=>Le,pl:()=>X,q:()=>_e,s1:()=>I,tg:()=>K,u2:()=>b,uC:()=>l,vH:()=>ie,vW:()=>Te,wc:()=>w,xV:()=>F,xl:()=>B,zB:()=>fe});const n="ACTIVATE_EXPERIMENT",r="APPEND_FEED_ITEMS",i="TRACK_AUTOLOGIN_FAILURE",s="DISMISS_UNAUTH_APP_UPSELL",a="USER_SETTING_CHANGE",l="USER_PARTNER_SETTING_CHANGE",c="SETTINGS_CHANGE",d="TOPIC_FOLLOW",u="PIN_ADD",_="PIN_DELETE",p="PIN_EDIT",h="PIN_UNDO_SAVE",m="PIN_IMPRESSIONS",f="PIN_FEEDBACK",b="PINS_MOVE",g="PINS_MOVE_ALL",v="SET_SESSION_DATA",y="BOARD_DISMISS_SENSITIVITY_SCREEN",x="BOARD_EDIT",S="BOARD_SECTION_EDIT",E="BOARD_COLLABORATOR_DELETE",w="BOARD_COLLABORATOR_ADD",P="BOARD_INVITE_ACCEPTED_BY_VIEWER",R="BOARD_INVITE_APPROVED_BY_VIEWER",A="BOARD_INVITE_DENIED_BY_VIEWER",T="BOARD_ARCHIVE",I="BOARD_UNARCHIVE",C="BOARD_REQUEST_TO_JOIN",O="BOARD_DELETE",L="BOARD_SECTION_DELETE",N="AUTHENTICATE_USER",D="REGISTER_USER",j="SET_LOGIN_SIGNUP_FROM",k="UPDATE_CURRENT_SEARCH",U="UPDATE_RECENT_SEARCHES",F="CLEAR_RECENT_SEARCH",M="CLEAR_RECENT_PERSONAL_SEARCH",B="CLEAR_RECENT_SEARCHES",Z="CLEAR_RECENT_PERSONAL_SEARCHES",H="COMPLETE_STORY",z="HIDE_GOOGLE_ONE_TAP",$="SET_NUM_SIGNUP_STEPS",V="SET_OWN_PROFILE_PINS_REFRESH",G="GOOGLE_ONE_TAP_DISABLED",W="GOOGLE_ONE_TAP_INITIALIZED",Y="SHOW_REPIN_ANIMATION",K="HIDE_REPIN_ANIMATION",X="SET_EXPERIMENT_HASH",q="SEND_CONVERSATION_MESSAGE",J="ONE_TAP_SAVE",Q="ONE_TAP_UNSAVE",ee="CLEAR_MESSAGES_BADGE",te="CLEAR_MESSAGE_BADGE",oe="RELOAD_VISUAL_SEARCH_ANNOTATIONS",ne="SHOW_NUX_HOMEFEED_LOADER",re="SHOW_BIZ_NUX_HOMEFEED_LOADER",ie="SET_VIEWED_IMAGE",se="SET_VIEWED_SHARED_PINS",ae="SHOW_NAV_FOOTER",le="HIDE_NAV_FOOTER",ce="SET_MESSENGER_CAMPAIGN_DATA",de="LOGGED_OUT_USER_INFO_FOUND",ue="LOGGED_OUT_USER_INFO_NOT_FOUND",_e="PIN_BUILDER_LOADED_IMAGES",pe="UPDATE_PIN_BUILDER_INPUT",he="USER_BULK_FOLLOW",me="SET_ACTIVE_HOMEFEED_TAB",fe="SET_MARKETING_PARAMS",be="CLEAR_FEED_ITEMS",ge="SET_SOCIAL_SEASONAL_BOARD",ve="SET_SHARE_ON_BOARD_PAGE",ye="PIN_SHOW_UNDO_AND_FEEDBACK",xe="UPDATE_PIN_REACTION_COUNT",Se="SET_FLASHLIGHT_CROP_SOURCE",Ee="ALLOW_ALL_COOKIES",we="REJECT_ALL_COOKIES",Pe="SET_PERSONALIZATION_COOKIES",Re="SET_ANALYTIC_COOKIES",Ae="SET_MARKETING_COOKIES",Te="SCROLL_TO_CLOSEUP_PIN",Ie="STOP_SCROLL_TO_CLOSEUP_PIN",Ce="UPDATE_CONTACT_REQUEST_STATUS",Oe="REMOVE_CONTACT_REQUESTS",Le="SHOW_TOAST_CONTACT_REQUEST_UNDO",Ne="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",De="REMOVE_CONVERSATION",je="DISMISS_UNAUTH_SAVE",ke="SET_UNAUTH_SAVE_PIN_ID",Ue="COMPLETE_UNAUTH_SAVE_ACTION",Fe="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",Me="SET_LANDING_PAGE_TYPE",Be="UPDATE_SUBSCRIPTION",Ze="AUTOPLAY_WITH_VOLUME",He="REPLACE_STATE"},388008:(e,t,o)=>{o.d(t,{$z:()=>f,KQ:()=>A,L1:()=>w,OA:()=>b,SD:()=>p,Vq:()=>E,Xi:()=>h,YQ:()=>g,YV:()=>R,dK:()=>S,g:()=>x,of:()=>c,uD:()=>y,xR:()=>m,xk:()=>P});var n=o(172071),r=o(6637),i=o(163786),s=o(165791),a=o(782677),l=o(983360);const c=e=>({type:l.XV,payload:{boardId:e}}),d=(e,t)=>({type:l.Aj,payload:{boardId:e,value:t}}),u=(e,t,o,n)=>({type:l.wc,payload:{boardId:e,viewingUser:t,status:o,collaboratingUsers:n}}),_=(e,t)=>({type:l.Wn,payload:{...t,id:e}}),p=(e,t)=>o=>(o(((e,t)=>({type:l.Tl,payload:{boardId:e,collaboratingUser:t}}))(e,t)),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()),h=(e,t=!1,o)=>n=>(n(((e,t,o)=>({type:l.AZ,payload:{boardId:e,isRequestToJoin:t,collaboratingUser:o}}))(e,t,o)),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:null==o?void 0:o.id}).callUpdate()),m=(e,t)=>o=>(o(((e,t)=>({type:l.CD,payload:{boardId:e,userId:t}}))(e,t)),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),f=(e,t,o)=>n=>(n(u(e,t,"new",o)),r.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:o.map((({id:e})=>e))}).callCreate()),b=(e,t)=>()=>r.ZP.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate(),g=(e,t,o,n)=>i=>{var s,a;const c="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return i(((e,t,o)=>({type:l.Fi,payload:{boardId:e,userId:t,viewingUser:o}}))(e,null!==(s=null==n?void 0:n.id)&&void 0!==s?s:"",o)),r.ZP.create(c,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(a=null==n?void 0:n.id)&&void 0!==a?a:""}).callDelete().catch((()=>i(u(e,o,t,[n]))))};function v(e,t){return r.ZP.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}const y=e=>t=>{const o={board_id:e},n="BoardResource";return r.ZP.create(n,o).callGet().then((o=>{var n;const r=null===(n=(0,a.Fv)(o.resource_response.data,i.Z.BoardResource).entities)||void 0===n?void 0:n.board,s=r&&r[e];return s&&t(_(e,s)),o}))},x=e=>(t,o)=>{const{session:{userId:n}}=o();v(e,n).callCreate().catch((()=>{t(d(e,!1))})),t(d(e,!0))},S=e=>(t,o)=>{const{session:{userId:n}}=o();v(e,n).callDelete({showError:!1}).catch((()=>{t(d(e,!0))})),t(d(e,!1))},E=(e,t)=>(o,n)=>{const{boards:s}=n(),l=s[e];return o(_(e,t)),r.ZP.create("BoardResource",{...t,board_id:e}).callUpdate().then((t=>{const n=(0,a.Fv)(t.resource_response.data,i.Z.BoardResource);return o(_(e,n.entities.boards[e])),t})).catch((t=>{throw l&&o(_(e,l)),t}))},w=(e,t,o,n)=>i=>{const s=r.ZP.create("BoardResource",{board_id:o}).callDelete();return i(((e,t,o,n)=>({type:l.OC,payload:{viewingUserId:e,viewingUsername:t,boardId:o,boardPinCount:n}}))(e,t,o,n)),s},P=(e,t)=>o=>r.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate().then((n=>{var r,i;return o((0,s.Q)("archived-boards",[{id:e,type:"board"}])),o((r=e,i=t,{type:l.VP,payload:{boardId:r,username:i}})),n})),R=(e,t)=>o=>r.ZP.create("BoardArchiveResource",{boardId:e}).callDelete().then((n=>{var r;return o((0,s.Q)(`profile-boards:${t}`,[{id:e,type:"board"}])),o((r=e,{type:l.s1,payload:{boardId:r}})),n})),A=(e,t)=>o=>r.ZP.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((r=>{if(!r||!r.resource_response)return{};const i=r.resource_response.data||{},s=(i.model||{}).custom_properties||{},{campaign_id:a="unknown"}=s,c=i.display_data||{},d=!!i.display_data,u=c.header_image_mobile,_=c.header_background_color,p=c.text_icon_color,h={boardId:e,isSocialSeasonalBoard:d,socialHeaderBgImage:u,socialHeaderBgColor:_,textIconColor:p};return n.Z.increment(`mweb.seasonal_board.${a}.${t}.land`),o((e=>({type:l.o3,payload:e}))(h))}))},789363:(e,t,o)=>{o.d(t,{A4:()=>_,ET:()=>m,Nv:()=>u,PA:()=>c,X_:()=>h,ic:()=>p,o4:()=>d});var n=o(6637),r=o(163786),i=o(414327),s=o(782677),a=o(983360);const l=(e,t)=>({type:a.nk,payload:t}),c=(e,t)=>o=>n.ZP.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(o(l(0,t)),e.resource_response.data))),d=(e,t,o,r)=>i=>{const s=n.ZP.create("BoardSectionEditResource",{section_id:t}).callDelete();return i(((e,t,o,n)=>({type:a.Yn,payload:{userId:e,boardSectionId:t,boardId:o,pinCount:n}}))(e,t,o,r)),s},u=(e,t,o)=>l=>{const c={board_id:e,initial_pins:t,name:o},d="BoardSectionResource";return n.ZP.create(d,c).callCreate().then((o=>{const n=o.resource_response.data,u=(0,s.Fv)(n,r.Z[d]);return l((0,i.XM)(d,c,o,u)),t.length&&l({type:a.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:n.id},pinIds:t}}),o}))},_=e=>t=>{const o={section_id:e},i="BoardSectionResource";return n.ZP.create(i,o).callGet().then((o=>{const n=(0,s.Fv)(o.resource_response.data,r.Z[i]).entities.boardsections[e];return t(l(0,n)),o}))},p=e=>t=>{const{source:o,target:l,pinIds:c}=e;if(t({type:a.u2,payload:e}),o.boardlessPins||l.boardId!==o.boardId){const e={board_id:l.boardId,pin_ids:c,section_id:l.sectionId},t="BulkEditResource";return n.ZP.create(t,e).callUpdate()}if(l.sectionId){const e={section_id:l.sectionId,pins:c},o="BoardSectionEditResource";return n.ZP.create(o,e).callUpdate().then((n=>{const a=(0,s.Fv)(n.resource_response.data,r.Z[o]);return t((0,i.XM)(o,e,n,a)),n}))}const d={section_id:o.sectionId,pins:c};return n.ZP.create("BoardSectionPinsResource",d).callDelete()},h=e=>t=>{t({type:a.Fl,payload:e});const{source:o,target:r,excludePinIds:i}=e,s={board_id:o.boardId,new_board_id:r.boardId,pin_ids:i,old_section_id:o.sectionId,new_section_id:r.sectionId};return n.ZP.create("BulkEditSelectAllResource",s).callUpdate()},m=(e,t,o,n)=>r=>r(u(e,[],t)).then((t=>{const i=t.resource_response.data.id;return r(h({source:{boardId:e,sectionId:n},target:{boardId:e,sectionId:i},excludePinIds:o}))}))},165791:(e,t,o)=>{o.d(t,{Q:()=>r});var n=o(983360);const r=(e,t,o=Object.freeze({}))=>({type:n.MU,payload:{id:e,options:o,items:t}})},185894:(e,t,o)=>{o.d(t,{Cp:()=>_,FK:()=>u,H5:()=>N,MI:()=>P,Mj:()=>O,O0:()=>S,QZ:()=>d,W:()=>I,WF:()=>f,Wz:()=>D,YV:()=>m,a5:()=>b,dz:()=>A,e0:()=>x,e2:()=>c,e6:()=>g,eA:()=>T,gH:()=>w,iW:()=>C,lW:()=>v,n1:()=>l,oo:()=>y,rm:()=>h,wY:()=>E,wb:()=>L,xu:()=>R});var n=o(172071),r=o(360903),i=o(983360),s=o(53987),a=o(408285);const l=()=>({type:i.iZ}),c=()=>({type:i.lj}),d=e=>({type:i.j_,payload:{unauthSavePinId:e}}),u=()=>({type:i.JG}),_=()=>({type:i.pV}),p=e=>({type:i.BM,payload:e}),h=e=>({type:i.a9,payload:{from:e}}),m=()=>e=>{e(p({preparingNewVersion:!0})),(0,a.Ng)().catch((()=>(n.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,a.Dm)()))).finally((()=>{n.Z.increment("mweb.new_version.refresh",1),e(p({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,r.Qi)()},f=()=>({type:i.cs}),b=()=>({type:i.tg}),g=()=>({type:i.c7}),v=()=>({type:i.kh}),y=()=>({type:i.Xi}),x=e=>({type:i.$t,payload:{steps:e}}),S=()=>({type:i.LB}),E=e=>({type:i.pl,payload:e}),w=e=>({type:i.aj,payload:e}),P=e=>({type:i.HQ,payload:e}),R=e=>({type:i.vH,payload:{viewedImageSignature:e}}),A=e=>({type:i.le,payload:{pins:e}}),T=()=>({type:i.ib}),I=()=>({type:i.L6}),C=e=>e?{type:i.Pz,payload:e}:{type:i.OO},O=(e,t,o)=>n=>n(((e,t,o)=>({type:i.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:o}}))(e,t,o)),L=()=>({type:i.dO}),N=e=>({type:i.UD,payload:e}),D=(e,t)=>{let o;return o=e?(0,s.bo)(e)?"today":t&&(0,s.dZ)(e,t)?"own_section":t&&(0,s.J)(e,t)?"own_board":(0,s.OJ)(e)?"section":(0,s.am)(e)?"board":(0,s.L6)(e)?"closeup":(0,s.C$)(e)?"home":(0,s.cD)(e)?"profile":(0,s.En)(e)?"search":(0,s.$V)(e)?"topic":"":"",{type:i.il,payload:o}}},163786:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(349745);const r={AggregatedCommentResource:n.rm,AggregatedCommentFeedResource:n.LR,AggregatedCommentReplyResource:n.rm,AggregatedCommentReplyFeedResource:n.LR,AggregatedActivityFeedResource:n.LR,BestPinsFeedAltResource:n.LR,BoardArchiveResource:n.LR,BoardCollaboratorsResource:n.LR,BoardContentRecommendationResource:n.LR,BoardFeedResource:n.LR,BoardFollowingResource:n.LR,BoardInviteResource:n.sf,BoardInvitesResource:n.Ht,BoardlessPinsResource:n.LR,BoardPickerBoardsResource:{all_boards:n.LR,boards_shortlist:n.LR},BoardSectionEditResource:n._F,BoardSectionsRepinResource:n.LR,BoardSectionsResource:n.LR,BoardsFeedResource:n.LR,BoardResource:n.IY,BoardSectionResource:n._F,BoardSectionPinsResource:n.LR,BoardToolsFeedResource:n.LR,ContactRequestsResource:n.LR,ConversationsResource:n.LR,ConversationMessagesResource:n.dq,DidItCommentsResource:n.LR,DidItLikedByResource:n.Gn,DidItUserFeedResource:n.LR,ExploreArticleBlockPinResource:n.LR,ExploreArticleBlockSearchResource:n.LR,ExploreArticleBlockUserResource:n.LR,ExploreArticleBlockUserDidItDataResource:n.LR,ExploreArticleResource:n.yg,FollowingFeedResource:n.LR,HolidaySpotlightRelatedFeedResource:n.LR,HolidaySpotlightResource:n.LR,InterestFollowingResource:n.LR,InterestResource:n.cC,MoreIdeasTabsBoardsResource:n.LR,NewsHubResource:n.LR,NewsHubDetailsResource:n.LR,NewsHubSummaryResource:n.t6,NuxInterestsResource:n.LR,NuxTopicToCreatorsResource:n.Gn,PartnerPermissionsResource:n.Ay,PinResource:n.Cj,PinCatalogResource:n.LR,PinsFromBrandResource:n.LR,ReactionsResource:n.fE,RelatedArticlesResource:n.LR,RelatedInterestsResource:n.LR,RelatedModulesResource:n.LR,RelatedPinFeedResource:n.LR,RelatedProductFeedResource:n.LR,RelatedStreamResource:n.LR,RepinResource:n.Cj,BaseSearchResource:{results:n.LR},SearchResource:n.LR,SectionToolsFeedResource:n.LR,ShareSuggestionsTypeaheadResource:{items:n.LR},ShoppingFeedModularizedResource:n.LR,StoryFeedResource:n.LR,StoryPinTaggedProductsResource:n.LR,SuggestedCreatorFollowsResource:n.Gn,TodayArticleFeedResource:n.LR,IdeasHubTodayArticlesResource:n.LR,TodayArticleResource:n.iF,TodayTabInterestFeedResource:n.LR,TodayTabResource:n.LR,TopicFeedResource:n.LR,UnifiedCommentsResource:n.LR,UserActivityPinsResource:n.LR,UserFollowingResource:n.LR,UserRecentActivityResource:n.LR,UserSimilarBusinessesResource:n.LR,UserHomefeedResource:n.LR,UserPinsResource:n.LR,UserSettingsResource:n.EA,UserStoryPinsFeedResource:n.LR,UserResource:n.EA,VideosFeedResource:n.LR,VisualLiveSearchResource:{results:n.LR},VisualLiveSearchProductFeedResource:n.LR,VisualSearchFlashlightUnifiedResource:n.LR,SeoTier1CandidateResource:n.LR}},176786:(e,t,o)=>{o.d(t,{Io:()=>L,ZP:()=>j});var n=o(667294),r=o(966338),i=o(52395),s=o(777918),a=o(794987),l=o(622359),c=o(609943),d=o(542554),u=o(499128),_=o(223123),p=o(411465),h=o(778193),m=o(569046),f=o(313047),b=o(862501),g=o(349700),v=o(643010),y=o(347556),x=o(266725),S=o(877867),E=o(898781),w=o(728214),P=o(925927),R=o(56961),A=o(883119),T=o(332611),I=o(708206),C=o(785893);function O(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const L=(e,t,o)=>{const n=o._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found');return{text:t?(0,g.nk)(o._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):n,href:e}},N=e=>({color:e?"#fff":"#333",fontSize:21,fontWeight:"bold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"});class D extends n.PureComponent{constructor(...e){var t;super(...e),t=this,O(this,"state",{boardName:this.props.match.params.boardName||"",canSubmit:!!this.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1}),O(this,"handleRepinSuccess",(()=>this.props.history.go(-2))),O(this,"onSwitchToggle",(()=>{this.setState((({secret:e})=>({secret:!e})))})),O(this,"onInputChange",(e=>{const t=e.target.value,o=t.trim().length;this.setState((({errorBoardNames:e})=>({boardName:t,canSubmit:o>0&&o<=100&&!e.includes(t)})))})),O(this,"onCreateClick",this.props.requireAuthForLimitedLogin({fn:()=>{const{boardName:e,secret:o,submitting:r}=this.state,{createPin:i,createBoard:s,dispatchUnsavePin:d,history:_,i18n:p,location:h,match:m,pin:f,repinToBoard:g,showRepinConfirmation:v,showToast:y,undoSaveAction:S}=this.props;if(r)return;const E=o?"secret":"public",w=m.params.pinId,P=h.state?h.state.pinnedToBoardId:"",R=this.props.i18n._('Created Board!', 'Text in toast after creating a new board', 'Text in toast after creating a new board');if(w){const o=(0,c.Z)((h.state||{}).trackingParams,null==f?void 0:f.tracking_params);this.setState({submitting:!0}),s({name:e,pin:f,privacy:E}).then((async function(n){var r;const i=null!==(r=n.url)&&void 0!==r?r:"";t.setState({submitting:!1}),(0,x.j)({event_type:20,view_type:3,object_id_str:w});const s=n.id,a=h.state&&h.state.pinDescription?h.state.pinDescription:"",{isFirstBoardCreateActive:c,isEditingPin:m,pinBoardId:E,pinSectionId:R}=h.state||{},{href:A,text:T}=L(i,e,p),{duration:I,text:O,thumbnail:N}=(0,b.qV)({boardId:s,isFBC:c}),D=()=>v((({hideToast:e})=>(0,C.jsx)(l.Z,{duration:I,href:A,onHide:e,text:O||T,thumbnail:N})));var j;(a?g({i18n:t.props.i18n,pinId:w,boardId:s,onSuccess:()=>{t.completeFirstExperiences()},onUndo:S,showRepinConfirmation:e=>y(e),trackingParams:{clientTrackingParams:o,pinnedToBoardId:P}}).catch((e=>{y((({hideToast:o})=>(0,C.jsx)(u.ZP,{variant:"error",text:e.message||t.props.i18n._('Sorry! Something went wrong on our end.', 'error completing repin', 'error completing repin'),onHide:o})))})):(t.completeFirstExperiences(D),(0,x.j)({event_type:5,view_type:3,component:7,object_id_str:w,clientTrackingParams:o,aux_data:{board_id:P,destination_board_id:s}})),m&&f)&&(await d(f.id,E,R),null!==(j=f.pinned_to_board)&&void 0!==j&&j.url&&_.replace(f.pinned_to_board.url))}),(t=>{y((({hideToast:e})=>(0,C.jsx)(u.ZP,{text:t.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:e}))),this.setState((({errorBoardNames:t})=>({errorBoardNames:t.concat(e),canSubmit:!1,submitting:!1})))}))}else this.setState({submitting:!0}),s({name:e,pin:f,privacy:E}).then((e=>{const t=this.props.location.state;if(!t||0===Object.keys(t).length){this.setState({submitting:!1});const{duration:t,text:o,thumbnail:n}=(0,b.qV)({boardId:e.id});return y((({hideToast:e})=>(0,C.jsx)(l.Z,{duration:t,onHide:e,text:o||R,thumbnail:n}))),void(e.url&&_.replace(e.url))}const{description:o,guid:r,method:s,url:c}=t,d=[];if("scraped"===t.method)t.imgData.forEach((t=>d.push(i({link:c,image_url:t,description:o,board_id:e.id,method:s,guid:r}))));else{const{base64Image:n,imageUrl:a}=t;d.push(i({link:c,image_url:a,image_base64:n,description:o,board_id:e.id,method:s,guid:r}))}Promise.all(d).then((t=>{y((({hideToast:e})=>(0,C.jsx)(u.ZP,{text:R,onHide:e}))),y((({hideToast:t})=>(0,C.jsx)(u.ZP,{text:(0,C.jsxs)(n.Fragment,{children:[(0,C.jsx)(A.xv,{children:this.props.i18n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,C.jsx)(A.xv,{weight:"bold",children:e.name})]}),iconThumbnail:(0,C.jsx)(A.xu,{width:54,height:54,children:(0,C.jsx)(a.Z,{boardId:e.id,type:"thumbnail"})}),onHide:t}))),(0,x.j)({event_type:1,view_type:92,component:7,object_id_str:t[0].resource_response.data.id}),this.setState({submitting:!1}),e.url&&_.replace(e.url)}),(()=>{y((({hideToast:e})=>(0,C.jsx)(u.ZP,{text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation'),onHide:e}))),this.setState({submitting:!1})}))}),(e=>{this.setState({submitting:!1}),y((({hideToast:t})=>(0,C.jsx)(u.ZP,{text:e.message_detail||e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:t})))}))}})),O(this,"completeFirstExperiences",(e=>{const{closeupExperience:t,repinExperience:o,completeExperience:n}=this.props;if(t||o){const r=[];t&&t.placement_id&&y.UT.includes(t.experience_id)&&r.push(n(t.placement_id,t.experience_id)),o&&o.placement_id&&501032===o.experience_id&&r.push(n(o.placement_id,o.experience_id)),r.length>0&&Promise.all(r).then((()=>{this.handleRepinSuccess(),e&&e()}))}else this.handleRepinSuccess(),e&&e()}))}componentDidMount(){const{repinExperience:e,viewExperience:t}=this.props;e&&t(e.placement_id,e.experience_id)}render(){const{i18n:e}=this.props;return(0,C.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,C.jsx)(i.Z,{text:e._('Create a Board', 'duplo.createboardpage.accessibilityModalLabel', 'Accessibility label for the create board page')}),(0,C.jsx)(f.FixedHeader,{children:(0,C.jsxs)(A.kC,{alignItems:"center",justifyContent:"start",children:[(0,C.jsx)(A.xu,{flex:"none",marginStart:-2,children:(0,C.jsx)(s.Z,{})}),(0,C.jsx)(A.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,C.jsx)(A.xv,{align:"center",weight:"bold",children:this.props.i18n._('Create board', 'Label during board creation', 'Label during board creation')})}),(0,C.jsx)(A.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,C.jsx)(A.xu,{"data-test-id":"createBoardButton",children:(0,C.jsx)(A.zx,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._('Create', 'Create board button', 'Create board button'),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),(0,C.jsx)(A.iz,{}),(0,C.jsxs)(A.xu,{paddingY:3,paddingX:4,children:[(0,C.jsx)(A.__,{htmlFor:"boardNameInput",children:(0,C.jsx)(A.xv,{size:"200",children:this.props.i18n._('Board name', 'Label during board creation', 'Label during board creation')})}),(0,C.jsx)("input",{id:"boardNameInput",placeholder:e._('Add', ' - ', ' -- '),value:this.state.boardName,style:N((0,v.Yc)()),onChange:this.onInputChange})]}),(0,C.jsx)(A.iz,{}),(0,C.jsxs)(A.xu,{display:"flex",justifyContent:"between",paddingY:3,paddingX:4,children:[(0,C.jsx)(A.__,{htmlFor:"secretToggle",children:(0,C.jsx)(A.xv,{children:this.props.i18n._('Keep board secret', 'Toggle during board creation', 'Toggle during board creation')})}),(0,C.jsx)(A.rs,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})}}const j=(0,I.compose)(m.Z,(0,r.connect)((({experiences:e})=>({closeupExperience:e[1000112],repinExperience:e[1000153]})),((e,{showToast:t})=>({completeExperience:(t,o)=>e((0,T.CK)(t,o)),viewExperience:(t,o)=>e((0,T.UT)(t,o)),createPin:t=>e((0,R.iX)(t)),undoSaveAction:(o,n,r,i,s)=>(0,S.a)({dispatch:e,i18n:s,showToast:t,newPinId:n,sourcePinId:o,boardId:r,boardSectionId:i}),repinToBoard:({i18n:t,pinId:o,boardId:n,onSuccess:r,onUndo:i,showRepinConfirmation:s,showToast:a,section:l,trackingParams:c})=>e((0,R.wh)({i18n:t,pinId:o,boardId:n,onSuccess:r,onUndo:i,showRepinConfirmation:s,showToast:a,section:l,trackingParams:c})),dispatchUnsavePin:(t,o,n)=>e((0,R.q$)(t,o||"",n))}))))((function(e){const t=(0,P.k6)(),o=(0,P.TH)(),n=(0,P.$B)(),r=(0,_.Z)(),i=(0,p.Z)(),s=(0,E.ZP)(),a=(0,w.Z)(),l=(0,h.Z)("/");return n.params.pinId&&i?(0,C.jsx)(P.l_,{to:"/"}):l||(0,C.jsx)(D,{...e,history:t,location:o,match:n,createBoard:({name:e,pin:t,privacy:i})=>{const s=n.params.pinId,a=o.state&&o.state.pinDescription?o.state.pinDescription:"";if(s&&!a){const n=(0,c.Z)((o.state||{}).trackingParams,null==t?void 0:t.tracking_params);return r({boardCreateOptions:{name:e,privacy:i,initial_pins:[s],initial_pin_client_tracking_params:[n]}})}return r({boardCreateOptions:{name:e,privacy:i}})},i18n:s,requireAuthForLimitedLogin:a})}))},941646:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(883119),r=o(785893);function i(e){const{children:t,display:o,id:i}=e;return(0,r.jsx)(n.xu,{"data-test-id":i,display:o,children:t})}},792182:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),r=o(23279),i=o.n(r);function s(){const[e,t]=(0,n.useState)(null);return(0,n.useEffect)((()=>{const e=()=>t({width:window.innerWidth,height:window.innerHeight});e();const o=i()(e,50);return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),[]),e}},407043:(e,t,o)=>{o.d(t,{B:()=>l,v:()=>a});var n=o(385740),r=o(425288),i=o(785893);const{Provider:s,useHook:a}=(0,r.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:o}=(0,n.sV)();return t.injectSetViewContextDataFromHook=o,(0,i.jsx)(s,{value:t,children:e})}},112690:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(407043);const r=()=>(0,n.v)().logContextEvent},202139:(e,t,o)=>{o.d(t,{DH:()=>n,F4:()=>s,FS:()=>r,N1:()=>d,N9:()=>l,UK:()=>i,VL:()=>a,v6:()=>c});const n=1e3,r=60*n,i=60*r,s=24*i,a=7*s,l=30*s,c=31*s,d=365*s},780679:(e,t,o)=>{o.d(t,{g:()=>s,t:()=>i});var n=o(667294);const r=(0,n.createContext)(null),i=r.Provider,s=()=>(0,n.useContext)(r)},332611:(e,t,o)=>{o.d(t,{CK:()=>_,N:()=>b,Qu:()=>p,UT:()=>u,YX:()=>f,d9:()=>h,fO:()=>l,kd:()=>m,pz:()=>c});var n=o(6637),r=o(764990),i=o(172071),s=o(957191);let a;const l=(e,t)=>o=>{const r=t?{extra_context:e,targeting:t}:{extra_context:e};return n.ZP.create("UserExperiencePlatformResource",r).callGet().then((e=>e.resource_response?o((0,s.OD)(e.resource_response.data)):void 0))},c=(e,t,o,i)=>(l,c)=>{if(t)return Promise.resolve();if(i&&(a=i),1===e.length){const t=e[0],n=c().experiences[t],i=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(i)===JSON.stringify(o)||(0,r.E3)(n)&&!(o&&Object.keys(o).length>0))return Promise.resolve()}return n.ZP.create("UserExperienceResource",{placement_ids:e,extra_context:o||null,targeting:i}).callGet().then((e=>e.resource_response?l((0,s.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(o,r,i,c=!1,d,u)=>(_,p)=>{const{experiences:h,experiencesMulti:m}=p();let f=null,b=!0;var g;c||(b=h[o]&&h[o].experience_id===r,f=b?h[o]:Array.isArray(m[o])&&(null===(g=m[o])||void 0===g?void 0:g.find((e=>e.experience_id===r))));if(f&&f.experience_id===r||c&&o&&r){const c=n.ZP.create(e,{placed_experience_id:`${o}%3A${r}`,extra_context:null!=d?d:{},targeting:u}),p=b?s.Yb:s.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{_(p(o,r,t)),_(l(void 0,a))}));case"completed":return c.callUpdate().then((()=>{i||(_(p(o,r,t)),_(l(void 0,a)))}));case"viewed":return _(p(o,r,t)),c.callUpdate().then((()=>{1000162===o&&_(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{i||_(p(o,r,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),_=d("UserExperienceCompletedResource","completed"),p=d("UserExperienceResource","dismissed"),h=d("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(o,r)=>{const{experiences:s}=r(),a=s[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach((o=>{const[,r]=o.split(":");let s=t;a.metadata&&a.metadata[r]&&(s=Object.assign({},t,a.metadata[r])),n.ZP.create("UserExperienceTriggerResource",{placed_experience_id:o.replace(":","%3A"),extra_context:s}).callUpdate().then((()=>{((e,t,o={})=>{i.Z.increment(`${e}.${t}`,1,o)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:r})}))}))},f=e=>(t,o)=>{t(m(e));const{experiences:n}=o();return n[e]},b=(e,t,o)=>n=>{o&&(a=o),n(m(e,t)),t&&Object.keys(t).length>0&&n(c([e],!1,t,o))}},764990:(e,t,o)=>{function n(e){return!!e&&0!==e.type}o.d(t,{A0:()=>i,E3:()=>n,MQ:()=>r});const r=(e,t,o)=>{const r=e[o];return t[o]&&n(r)?r:null};function i(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,o)=>{o.d(t,{$S:()=>n,V$:()=>r,_4:()=>s,iY:()=>a,mR:()=>i});const n="REFRESH_ALL_EXPERIENCES_MULTI",r="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",s="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},957191:(e,t,o)=>{o.d(t,{NW:()=>s,OD:()=>l,Yb:()=>a,cL:()=>c,xW:()=>i});var n=o(6637),r=o(207737);const i=(e,t,o)=>({type:r.V$,payload:{placementId:e,experienceId:t,status:o}}),s=e=>t=>n.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((o=e.resource_response.data,{type:r.$S,payload:{experiencesMulti:o}})):void 0;var o})),a=(e,t,o)=>({type:r.iY,payload:{placementId:e,experienceId:t,status:o}}),l=e=>({type:r._4,payload:{experiences:e}}),c=e=>({type:r.mR,payload:{experiences:e}})},499128:(e,t,o)=>{o.d(t,{UZ:()=>c,Vg:()=>l,ZP:()=>d});var n=o(667294),r=o(829407),i=o(50286),s=o(883119),a=o(785893);const l=200,c=({deviceType:e,hiding:t,visible:o})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...o?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...o&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function d({button:e,dataTestId:t,duration:o=2e3,href:d,iconThumbnail:u,imageUrl:_,onClick:p,onHide:h,openNewPage:m,text:f,thumbnailShape:b="square",variant:g="default"}){const v=(0,i.ZP)(),[y,x]=(0,n.useState)(!1),[S,E]=(0,n.useState)(!1),w=(0,n.useRef)(),P=()=>{x(!0),w.current=setTimeout(h,l)},R=()=>{w.current&&clearTimeout(w.current)},A=()=>{w.current=setTimeout(P,o)};(0,r.Z)((()=>(setTimeout((()=>E(!0)),100),A(),R)));const T="string"==typeof f?f:`${f[0]} ${f[1]}`,I=_?(0,a.jsx)(s.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(s.Ee,{alt:T,fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}):void 0,C=(0,a.jsx)(s.FN,{button:e,text:f,thumbnail:null!=u?u:I,thumbnailShape:b,variant:g});return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:c({deviceType:v,hiding:y,visible:S})},"data-test-id":null!=t?t:"toast",onMouseEnter:R,onMouseLeave:A,children:d?(0,a.jsx)(s.iP,{role:"link",href:d,onTap:({event:e})=>null==p?void 0:p(e),target:m?"blank":null,rounding:"pill",children:C}):C})}},298361:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898781),r=o(349700),i=o(202139);function s(){const e=(0,n.ZP)();return function(t,o){const n=new Date(t),s=new Date-n,a=Math.floor(s/i.FS),l=Math.floor(s/i.UK),c=Math.floor(s/i.F4),d=Math.floor(s/i.VL),u=Math.floor(s/i.N1),_=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', a, ' - ', ' -- '),p=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', a, 'minutes ago abbreviated', 'minutes ago abbreviated'),g=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),v=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),y=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,r.nk)(o?x:f,{years:u}).join(""):d>0?(0,r.nk)(o?y:m,{weeks:d}).join(""):c>0?(0,r.nk)(o?v:h,{days:c}).join(""):l>0?(0,r.nk)(o?g:p,{hours:l}).join(""):a>0?(0,r.nk)(o?b:_,{minutes:a}).join(""):e._('Just now', ' - ', ' -- ')}}},892819:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(66699),r=o(898781);const i=(e,t)=>{const o=t||0,n=10**o,r=+(o?e*n:e).toFixed(8),i=Math.floor(r),s=r-i,a=s>.5-1e-8&&s<.5+1e-8?i%2==0?i:i+1:Math.round(r);return o?a/n:a},s=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function a(){const e=(0,r.ZP)();return(t,o,r)=>{let a=0,l=0;const c=r&&r.style||void 0,d=r&&r.shortform||!1,u=r&&r.uplimit||void 0,_=r&&r.currency||void 0,p=!!u&&o>=u,h=u&&p?u:o;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:o}=((e,t)=>{if(t){const{minimumFractionDigits:o,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==o&&void 0!==n)return{minimumFractionDigits:o,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,_);a=void 0===r||void 0===r.maximum_fraction_digits?o:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?e:r.minimum_fraction_digits}else a=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,l=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(d&&h>999&&(a=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,l=0),a<l)return String(h);let m=h,f="";const b=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],g=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],v=/^zh|ja|ko/.test(t);if(d&&h>999){const e=v?b:g;for(let t=0;t<e.length;t+=1){const o=Object.keys(e[t])[0],n=e[t][o].value;if(h>=n){m=i(h/n*Math.pow(10,a))/Math.pow(10,a),f=e[t][o].localeKey;break}}}if(null==m)return"";const y=m.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:o,currency:n})=>{const r={maximumFractionDigits:e,minimumFractionDigits:t};return o?{...r,style:o,..."currency"===o?{currency:n,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:a,minimumFractionDigits:l,currency:_,style:c}));return(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:y,numberSuffix:f})+(p?"+":"")}}},12610:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z3:()=>_,LU:()=>p,ZP:()=>h});const r=1e6,i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:l,[s.stopped]:l,[s.paused]:l,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){n(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),n(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),n(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),n(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(s.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(s.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*r,endTime:Date.now()*r,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(i)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case s.flushed:case s.paused:case s.exit:a[this.debugId]=!0}}}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const _=!0,p=!1;class h{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const o=this.mutationObservers.get(t);o&&o.offsetHeight<1&&o&&this.stop(o,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const o=this.activeImpressions.get(e);o&&(o.stop(t),this.mutationObservers.delete(o.mutationObserver),o.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new d(e),this.activeImpressions.set(e,t),this.observer.observe(e);const o=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(o)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=_){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===p&&(this.pausePriority=e))}resume(e=_){e===p&&this.pausePriority===_||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:o}=t.getBoundingClientRect();return o>e?o:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:o}=t.getBoundingClientRect();return o<e?o:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const o={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,o),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,o)=>{o.d(t,{Z:()=>n});const n=new(o(12610).ZP)},349700:(e,t,o)=>{function n(e,t,o){return e.split(o).map((e=>{if(e.match(o)){const o=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,o))return t[o]}return e}))}o.d(t,{Wc:()=>s,bF:()=>l,nk:()=>i});const r=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return n(e,t,r)}function s(e,t){return n(e,t,r).join("")}const a=/(\{\s*\w+\s*\})/g;function l(e,t){return n(e,t,a)}},995081:(e,t,o)=>{o.d(t,{Rq:()=>n,Vf:()=>r,jd:()=>i,oy:()=>s});const n=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,i=e=>window.innerHeight>=748&&n(e),s=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},755742:(e,t,o)=>{o.d(t,{Z:()=>n});const n={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},313047:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>d,FixedFooter:()=>p,FixedHeader:()=>_});var n=o(667294),r=o(124580),i=o(643010),s=o(834256),a=o(883119),l=o(785893);const c=64,d=3;function u({children:e,footerConfig:t,headerConfig:o,height:s,hideOnScroll:u,hideOnScrollState:{isHidden:_,updateHiddenState:p},noPadding:h,paddingY:m=d,type:f,zIndex:b}){const{headerLimitedOverflow:g,ignoreObstructions:v,zIndexForGestaltBug:y}=o||{},{appUpsellFooterConfig:x,footerInLego:S,footerWidth:E}=t||{},w=!!x,P="header"===f?"top":"bottom",R=(0,n.useRef)(null),A=(0,n.useRef)(null);(0,n.useEffect)((()=>{try{if(!v){const e=R.current;A.current=g&&e&&Array.isArray(e.children)?e.children[0]:e,A.current instanceof HTMLElement&&r.Z.addObstruction(P,A.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{v||A.current instanceof HTMLElement&&r.Z.removeObstruction(P,A.current)}}),[v,g,P]);const T="top"===P?"relative":"fixed",I=h?0:m,C=(null!=s?s:c)+((null==o?void 0:o.overrideTop)||0),O=u?{transition:S?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",..._?{transform:`translateY(${"top"===P?-C:C}px)`,opacity:S?0:1}:Object.freeze({})}:{},L="relative"!==T||null!=o&&o.noGutter?0:2,N=L?-L:0;let D,j;return(0,i.Yc)()&&("header"===f?D=-1:j=-1),(0,l.jsx)(a.xu,{ref:R,dangerouslySetInlineStyle:{__style:{top:D,bottomStyle:j,...!b||y?{zIndex:y||1}:Object.freeze({}),...g?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=o&&o.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...O}},zIndex:y?void 0:b,"data-test-id":f,display:w?"flex":void 0,height:s&&!S?s:void 0,position:T,bottom:"footer"===f,top:"header"===f,left:!0,right:!0,marginStart:S?"auto":N,marginEnd:S?"auto":N,onTransitionEnd:()=>{u&&A.current&&(_?r.Z.removeObstruction(P,A.current):r.Z.addObstruction(P,A.current))},width:S||"fixed"!==T?void 0:"100%",children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:((0,i.Yc)()?"#000":(null==o?void 0:o.isTranslucent)&&"rgba(255,255,255,.95)")||(null==o?void 0:o.isTransparentBackground)&&"transparent"||"white",height:S?w?void 0:null!=s?s:c:"100%",boxShadow:S?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:S?16:void 0,...g?{pointerEvents:"auto"}:Object.freeze({}),...null!=o&&o.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==f||h?0:4)+L,paddingY:I,position:"relative",width:S&&E?E:w?void 0:"100%",rounding:S?"pill":void 0,display:S||null!=t&&t.alignCenter?"flex":void 0,marginStart:S?"auto":void 0,marginEnd:S?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:p}):e})})}function _({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:o,isTranslucent:n,isTransparentBackground:r,noGutter:i,overrideTop:c,useRoundedCorners:_,zIndexForGestaltBug:p,...h}){const{noPadding:m,paddingY:f=d,zIndex:b}=h,g=m?0:f;return(0,l.jsx)(a.Le,{top:c||0,height:t?44+2*g*4:void 0,zIndex:b||void 0,children:(0,l.jsx)(s.Z,{hideOnScroll:h.hideOnScroll,children:s=>(0,l.jsx)(u,{...h,hideOnScrollState:s,type:"header",headerConfig:{isTranslucent:n,isTransparentBackground:r,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:o,noGutter:i,overrideTop:c,zIndexForGestaltBug:p,useRoundedCorners:_}})})})}function p({alignCenter:e,appUpsellFooterConfig:t,footerInLego:o,footerWidth:n,hasTopShadow:r,isModal:i,onScroll:a,...c}){return(0,l.jsx)(s.Z,{appUpsellFooterConfig:t,hideOnScroll:c.hideOnScroll,isModal:i,onScroll:a,children:i=>(0,l.jsx)(u,{...c,hideOnScrollState:i,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:o,footerWidth:n,hasTopShadow:r}})})}},834256:(e,t,o)=>{o.d(t,{Z:()=>a,m:()=>s});var n=o(667294),r=o(700380);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const s=20;class a extends n.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),i(this,"handleScroll",(0,r.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:o}=this.props,{isHidden:n}=this.state,r=window.scrollY,i=r-this.lastScrollPos,a=t?0:55;if(e)if(i>s&&n&&r>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),o&&o(!1))}else(i<-s&&!n||r<=a)&&(this.updateHiddenState(!0),o&&o(!0));else i<-s&&n||r<=a?(this.updateHiddenState(!1),o&&o(!1)):i>s&&!n&&(this.updateHiddenState(!0),o&&o(!0));this.lastScrollPos=r}),30))}componentDidMount(){try{this.props.hideOnScroll&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll?window.addEventListener("scroll",this.handleScroll):e.hideOnScroll&&!this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll)}render(){const{children:e}=this.props,{isHidden:t}=this.state;return e({isHidden:t,updateHiddenState:this.updateHiddenState})}}},542554:(e,t,o)=>{o.r(t),o.d(t,{AMPPageContainer:()=>c,default:()=>d});var n=o(883119),r=o(134879),i=o(444445),s=o(780280),a=o(995081),l=o(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:o=!1,hasGutter:c=!0,useViewport:d=!1,showKeychainError:u=!1})=>{const _=(0,s.B)(),p=(0,a.jd)(_.userAgent.platform)?a.Vf:0;return(0,l.jsx)(n.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:d?`calc(100vh - ${p}px)`:void 0,paddingX:c?i.D6:void 0,paddingY:o||u?void 0:3,children:(0,l.jsx)(r.C,{value:!!c,children:e})})},d=c},134879:(e,t,o)=>{o.d(t,{C:()=>i,V:()=>s});var n=o(667294);const r=(0,n.createContext)(!1),i=r.Provider,s=()=>(0,n.useContext)(r)},862624:(e,t,o)=>{o.d(t,{Y:()=>i,u:()=>r});var n=o(425288);const{Provider:r,useHook:i}=(0,n.Z)("ExperimentContext")},217468:(e,t,o)=>{o.d(t,{a:()=>a,t:()=>s});var n=o(667294),r=o(466225),i=o(862624);function s(e){const t=(0,i.Y)(),o=t.v2GetGroup(e)||"",s=(0,r.Z)(o),a=(e=>{const t=(0,n.useRef)(!1),o=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{t.current=!0,o.current&&e()}),[]),()=>{t.current?e():o.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||a(),{group:o,anyEnabled:s})}function a(e,t=!0){const o=s(e);return t?o():{group:"",anyEnabled:!1}}},780280:(e,t,o)=>{o.d(t,{B:()=>l,LC:()=>s,P2:()=>i,fH:()=>a});var n=o(667294);const r=(0,n.createContext)(),i=r.Provider,s=({children:e})=>{const t=(0,n.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},a=({children:e})=>{const t=(0,n.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function l(){const e=(0,n.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},784590:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),r=o(966338),i=o(886858),s=o(718368),a=o(925927),l=o(780280),c=o(379725);const d={};function u({dangerouslyDisableFetch:e,enabledRouteRefresh:t,__unstableEnableSuspenseSupport:o,headers:u,name:_,noCache:p,options:h,schema:m}){const f=(0,r.useDispatch)(),b=(0,i.Z)(h),g=(0,n.useRef)(null),v=(0,n.useRef)(),y=(0,a.k6)(),x=y&&"POP"!==y.action,S=e=>(e[_]||d)[b]||d,E=(0,r.useSelector)((({resources:e})=>S(e).nextBookmark)),w=(0,r.useSelector)((({resources:e})=>S(e).data)),P=(0,r.useSelector)((({resources:e})=>S(e).auxData)),R=(0,r.useSelector)((({resources:e})=>S(e).error)),A=(0,r.useSelector)((({resources:e})=>Boolean(S(e).fetching))),T=Boolean(R)||void 0!==w,I=T&&!A&&E===s.q,C=Boolean(T&&t&&x&&!e),[O,L]=(0,n.useState)(C),N=(0,n.useCallback)((e=>{g.current=f((0,c.U2)(_,{options:h,schema:m,bookmark:e,headers:u}))}),[f,_,b,m,u]),D=()=>{g.current=f((0,c.bi)(_,{options:h,schema:m,headers:u}))},{isBot:j}=(0,l.B)(),k=()=>{if(!e&&v.current!==b){const e=void 0===v.current;v.current=b,!T&&!A||e&&R&&(({httpStatus:e})=>!e||e>=500)(R)?N():(!j&&p||C)&&D()}};(0,n.useEffect)((()=>{o||k()})),o&&k();const U=(0,n.useCallback)((()=>{e||(D(),L(!0))}),[e,c.bi,_,b,u,L]),F=(0,n.useCallback)((()=>{!E||I||A||e||N(E)}),[e,N,E,I,A]);if(g.current)if(T&&!A)g.current=null;else if(o)throw g.current;const M=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:F,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:U}),B={auxData:P,data:w,error:R,fetchMore:F,isAtEnd:I,isFetching:A,isLoaded:T,isRefreshing:O,nextBookmark:E,refresh:U};return(0,r.shallowEqual)(B,M.current)||(!O||!M.current.data&&C||(0,r.shallowEqual)(B.data,M.current.data)||(B.isRefreshing=!1,L(!1)),M.current=B),M.current}},458882:(e,t,o)=>{o.d(t,{l:()=>i,r:()=>s});var n=o(667294);const r=(0,n.createContext)(null),i=()=>(0,n.useContext)(r),s=r.Provider},667679:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(458882),r=o(780679);const i=()=>{const e=(0,r.g)(),t=(0,n.l)();return o=>{const{mobileOptions:n,desktopOptions:r,reason:i,attributionLabel:s}=o;var a;e?e.showDesktopSignupModal({modalType:null!==(a=null==r?void 0:r.modalType)&&void 0!==a?a:"signup",reason:i,attributionLabel:s,...null==r?void 0:r.modalOptions}):t&&t.showMobileSignupModal({reason:i,attributionLabel:s,headingType:null==n?void 0:n.headingType})}}},223815:(e,t,o)=>{o.d(t,{U:()=>s,Z:()=>a});var n=o(755742),r=o(785893);const i=()=>{},s=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function a({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:o,allowScroll:a,children:l}){const c=e=>function(e,t){t&&e.keyCode===n.Z.ESCAPE||s(e)}(e,t);return(0,r.jsx)("div",{onAbort:s,onAnimationEnd:s,onAnimationIteration:s,onAnimationStart:s,onBlur:i,onCanPlay:o?i:s,onCanPlayThrough:s,onChange:s,onClick:e?i:s,onCompositionEnd:s,onCompositionStart:s,onCompositionUpdate:s,onContextMenu:s,onCopy:s,onCut:s,onDoubleClick:s,onDurationChange:s,onEmptied:s,onEncrypted:s,onEnded:s,onError:s,onFocus:i,onInput:s,onInvalid:s,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:s,onLoadedData:s,onLoadedMetadata:s,onLoadStart:s,onMouseDown:s,onMouseEnter:s,onMouseLeave:s,onMouseMove:e?i:s,onMouseOut:s,onMouseOver:s,onMouseUp:e?i:s,onPaste:s,onPause:s,onPlay:s,onPlaying:s,onProgress:s,onRateChange:s,onScroll:a?i:s,onSeeked:s,onSeeking:s,onSelect:s,onStalled:s,onSubmit:s,onSuspend:s,onTimeUpdate:s,onTouchCancel:s,onTouchEnd:e?i:s,onTouchMove:e?i:s,onTouchStart:e?i:s,onTransitionEnd:s,onVolumeChange:s,onWaiting:s,onWheel:s,children:l})}},985913:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(858142);const r=/\{\{\s*(\w+)\s*\}\}/g,i=(e,t)=>(0,n.Z)(r,e,t)},858791:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(e,t,o)=>t?t.replace(e,((e,t)=>o&&Object.prototype.hasOwnProperty.call(o,t)?o[t]:"")):""},66699:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(985913),r=o(858791);const i=(e,t)=>{const o={};return Object.keys(t).forEach((e=>{o[e]=t[e]?(0,r.Z)(t[e].toString()):""})),(0,n.Z)(e,o)}},700380:(e,t,o)=>{function n(e,t){let o;const n=(...n)=>{o||(e(...n),o=setTimeout((()=>o=null),t))};return n.cancel=()=>{void 0!==o&&clearTimeout(o)},n}o.d(t,{Z:()=>n})},948618:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(883119),r=o(785893);function i({ariaHidden:e=!1,color:t="darkGray",size:o}){return(0,r.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,r.jsx)(n.xv,{color:t,inline:!0,size:null!=o?o:"md",children:""})})}},343341:(e,t,o)=>{o.d(t,{F9:()=>s,Zo:()=>r,nE:()=>i});var n=o(425288);const{Provider:r,Consumer:i,useHook:s}=(0,n.Z)("toastManagerContext")},50286:(e,t,o)=>{o.d(t,{HG:()=>a,Wb:()=>s,ZP:()=>l,ml:()=>i});var n=o(780280);const r=()=>{const e=(0,n.B)(),{isMobile:t,isTablet:o}=e.userAgent;return o?"tablet":t?"phone":"desktop"},i=()=>"phone"===r(),s=()=>"tablet"===r(),a=()=>"desktop"===r(),l=r},829407:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294);const r=e=>{(0,n.useEffect)(e,[])}},411465:(e,t,o)=>{o.d(t,{G:()=>a,Z:()=>l});var n=o(667294),r=o(925927),i=o(785893);const s=(0,n.createContext)(!0);function a({children:e}){const t=(0,r.TH)(),[o,a]=(0,n.useState)(!0),l=(0,n.useRef)(t);return(0,n.useEffect)((()=>{l.current!==t&&(l.current=t,a(!1))}),[t]),(0,i.jsx)(s.Provider,{value:o,children:e})}function l(){return(0,n.useContext)(s)}},19121:(e,t,o)=>{o.d(t,{$:()=>r,Z:()=>s});var n=o(425288);const{Provider:r,useHook:i}=(0,n.Z)("viewer"),s=i},70598:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(829407),r=o(898781),i=o(112690),s=o(728214),a=o(602574),l=o(667679),c=o(19121),d=o(957314),u=o(281180),_=o(50286),p=o(925927),h=o(343341),m=o(687999),f=o(867820),b=o(883119),g=o(785893);const v=({children:e,pulsar:t,testId:o})=>t.show?(0,g.jsx)(b.xu,{position:"relative","data-test-id":o,children:(0,g.jsxs)(b.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,g.jsx)(b.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,g.jsx)(b.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,g.jsx)(b.o3,{})})]})}):(0,g.jsx)(b.xu,{"data-test-id":o,children:e});function y({auxData:e,disabled:t,disableLog:o,followEventType:y,id:x,inline:S,invertColors:E,isFollowed:w,isIdeaPin:P,isLegoEnabled:R,isSecondaryButton:A,isUserFollowButton:T,isUserMe:I,onFollow:C,onUnfollow:O,shouldUseLegoColors:L,showPulsar:N,size:D,textType:j="FollowFollowing",unfollowEventType:k,viewParameter:U,viewType:F}){const M=(0,r.ZP)(),B=(0,p.TH)(),Z=(0,_.HG)(),{showToast:H}=(0,h.F9)(),z=(0,i.Z)(),$=(0,l.Z)(),V=(0,s.Z)(),G=(0,c.Z)(),W=G&&G.isAuth,{unauthFollowUserId:Y,setUnauthFollowUserId:K}=(0,m.f)(),X=(0,u.mN)()(x);(0,n.Z)((()=>{!Z&&W&&Y&&x&&Y===x&&C(x)}));const q=V({fn:()=>{W?w?(O(x),o||z({event_type:k,view_type:F,view_parameter:U,object_id_str:x,aux_data:e})):(C(x),T&&H((({hideToast:e})=>{if(!X)return null;const t=`/${X.username}/`;return(0,g.jsx)(a.Z,{handleHide:e,text:(0,g.jsx)(b.xv,{children:M._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:x,href:t,imageUrl:X.image_medium_url})})),o||z({event_type:y,view_type:F,view_parameter:U,object_id_str:x,aux_data:e})):((0,f.My)(`mweb_unauth_follow_button.tap.${String(F)}`),5===F&&26===y&&(0,f.My)("mweb_unauth_board_page_follow_button.tap"),(0,f.NC)(w?"press_profile_unfollow":"press_profile_follow"),(0,f.LW)({action:"click",pageLocation:B,item:"board-follow-button"}),$({attributionLabel:P?"tap.unauth_idea_pin.follow_button":"tap.unauth.follow_button",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP"}),Z||K(null!=x?x:""),(0,f.NC)("clickthrough"))},modalHeader:(0,d.N4)({i18n:M,toFollow:!w})}),J=!w&&!!N;return(0,g.jsx)(v,{pulsar:J?{show:!0,onClick:q}:{show:!1},testId:I||w?"board-unfollow-button":"board-follow-button",children:(0,g.jsx)(b.zx,{color:L||"AddRemove"===j||!R&&A||w?"gray":"red",disabled:I||t,fullWidth:S,onClick:J?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||z({event_type:101,component:13672,element:11951,object_id_str:x,view_type:F,view_parameter:U,aux_data:e}),q()},selected:E?!w:L&&w||!!w&&A,size:D,text:(()=>{if(I)return M._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===j)return w?M._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow'):M._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow');const e="FollowUnfollow"===j?M._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):M._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return w?e:M._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')})()})})}},52395:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(883119),r=o(785893);function i({text:e}){return(0,r.jsx)(n.xu,{display:"visuallyHidden",children:(0,r.jsx)(n.X6,{accessibilityLevel:1,children:e})})}},281180:(e,t,o)=>{o.d(t,{Tt:()=>l,kW:()=>s,kY:()=>i,mN:()=>a});var n=o(19121),r=o(425288);const{Provider:i,useHook:s}=(0,r.Z)("Users");function a(){const e=s();return t=>e[t]}function l(){const{id:e}=(0,n.Z)();return s()[null!=e?e:""]}},687999:(e,t,o)=>{o.d(t,{f:()=>a,w:()=>l});var n=o(667294),r=o(425288),i=o(785893);const{Provider:s,useHook:a}=(0,r.Z)("Session");function l({children:e}){const[t,o]=(0,n.useState)(void 0),r=(0,n.useCallback)((()=>o(void 0)),[]),a=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:o,removeUnauthFollowUserId:r})),[t,r]);return(0,i.jsx)(s,{value:a,children:e})}},154391:(e,t,o)=>{o.d(t,{H:()=>i,o:()=>r});var n=o(425288);const{Provider:r,useHook:i}=(0,n.Z)("LimitedLogin")},957314:(e,t,o)=>{o.d(t,{N4:()=>i,Wh:()=>n,hr:()=>r});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},728214:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(898781),r=o(50286),i=o(154391),s=o(957314);const a=()=>{const e=(0,n.ZP)(),t=(0,r.HG)(),{viewer:o,loginForMore:a,limitedLoginModalSubheader:l,limitedLoginModalNextLocation:c}=(0,i.H)();return"LIMITED_LOGIN"===o.type?({modalHeader:o,nextLocation:n})=>r=>{let i=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?i=r:r.event&&(i=r.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),o||(o=t?(0,s.hr)(e):(0,s.Wh)(e)),null==a||a.setVisible(!0),null==l||l.setText(o),n&&(null==c||c.setRoute(n))}:({fn:e})=>e}},602574:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(883119),r=o(785893);function i({ideaPinImages:e}){const t={1:28,2:40,3:48},o=e.map(((e,t)=>{var o,i,s;return(0,r.jsx)(n.xu,{height:48,width:28,color:"white",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,r.jsx)(n.Ee,{alt:"",src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:"",color:"#696969",fit:"cover",naturalHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:1,naturalWidth:null!==(s=null==e?void 0:e.width)&&void 0!==s?s:1})},t)}));return(0,r.jsx)(n.kC,{justifyContent:"center",children:(0,r.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:o})})}var s=o(499128),a=o(898781),l=o(784590),c=o(50286);function d({handleHide:e,text:t,userId:o,href:d,imageUrl:u}){const _=(0,a.ZP)(),p=(0,c.HG)(),h=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:o}}),m=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length){const t=u?(0,r.jsx)(n.xu,{height:48,overflow:"hidden",width:48,children:(0,r.jsx)(n.Ee,{alt:_._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0;return(0,r.jsx)(s.ZP,{duration:5e3,onHide:e,text:m,href:d,iconThumbnail:t,thumbnailShape:"circle"})}const f=(h.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]})),b=(0,r.jsx)(i,{ideaPinImages:f});return(0,r.jsx)(s.ZP,{href:d,duration:5e3,onHide:e,iconThumbnail:b,text:m,thumbnailShape:"square"})}},223123:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(966338),r=o(6637),i=o(332611),s=o(886858),a=o(379725),l=o(414327),c=o(782677);function d(){const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.resources));return async function({boardCreateOptions:o,deprecatedSchemaForNormalization:n}){var d,u;const _=await r.ZP.create("BoardResource",o).callCreate(),p=null===(d=_.resource_response)||void 0===d?void 0:d.data,h=n?(0,c.Fv)(p,n):void 0;e((0,l.XM)("BoardResource",o,_,h)),e((0,i.fO)({event_type:20})),null!==(u=p.owner)&&void 0!==u&&u.id&&e((0,a.bi)("UserResource",{options:{user_id:p.owner.id,field_set_key:"save_behavior"}}));const m=t.BoardsResource||{},f=t.BoardsFeedResource||{};return Object.keys(m).forEach((t=>{var o;(0,s.k)(t).username===(null===(o=p.owner)||void 0===o?void 0:o.username)&&e((0,l.jB)("BoardsResource",t))})),Object.keys(f).forEach((t=>{var o;(0,s.k)(t).username===(null===(o=p.owner)||void 0===o?void 0:o.username)&&e((0,l.jB)("BoardsFeedResource",t))})),p}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/96965-a28e12b33cffae64.mjs.map