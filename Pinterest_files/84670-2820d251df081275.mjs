(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[84670],{554290:(e,i,n)=>{var t=n(406557);e.exports=function(e){return"function"==typeof e?e:t}},498913:(e,i,n)=>{var t=n(422545),o=n(554290),a=n(640554),r=4294967295,s=Math.min;e.exports=function(e,i){if((e=a(e))<1||e>9007199254740991)return[];var n=r,l=s(e,r);i=o(i),e-=r;for(var d=t(l,i);++n<e;)i(n);return d}},418601:(e,i,n)=>{var t=n(14841),o=1/0;e.exports=function(e){return e?(e=t(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,i,n)=>{var t=n(418601);e.exports=function(e){var i=t(e),n=i%1;return i==i?n?i-n:i:0}},733756:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(30700),o=n(883119),a=n(785893);const r={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},l={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:i,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:_=70,onTouch:h,pressState:m,size:g,shape:v,text:f})=>{const x=(e=>"red"===e||"transparent"===e||"darkGray"===e?"inverse":"default")(i),b=(({color:e,icon:i})=>i?l:"transparent"===e?{__style:{...r.__style,...s}}:r)({color:i,icon:c}),y=(0,a.jsx)(o.xu,{position:"relative",children:(0,a.jsx)(o.xu,{color:i,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:_,dangerouslySetInlineStyle:"pill"===v?(w=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...w}}):b,children:(0,a.jsxs)(o.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,a.jsx)(o.xu,{paddingX:"check"===c?2:0,children:(0,a.jsx)(o.JO,{accessibilityLabel:e,color:x,icon:c,inline:!0,size:"check"===c?16:20})}),(0,a.jsx)(o.xv,{color:x,inline:!0,size:g,lineClamp:1,weight:"bold",children:f})]})})});var w;return h?(0,a.jsx)(t.Z,{onTouch:h,rounding:"pill"===v?"pill":2,pressState:m||"none",children:(0,a.jsx)(o.xu,{ref:d,children:y})}):y}},856919:(e,i,n)=>{n.d(i,{MZ:()=>A,di:()=>z,Ai:()=>C});var t=n(667294),o=n(474635),a=n(205443),r=n(733756),s=n(735079),l=n(954571),d=n(250059),c=n(149230),u=n(407043),p=n(48714),_=n(925927);const h=({children:e,external:i,externalQueryParams:n,target:t,href:o})=>{const{logContextEvent:a}=(0,u.v)(),r=(0,_.k6)(),s=(0,_.TH)();if(!o)return null;const l=(0,d.Z)(o);return e({navigate:e=>{e.preventDefault(),(0,c.Z)({url:l})||i?(0,p.lI)({href:l,queryParams:n,location:s},a):(0,p.G3)({event:e,href:o,history:r,target:"blank"===t?"blank":null})}})};var m=n(883119),g=n(785893);const v=({children:e,external:i,externalQueryParams:n,inline:t=!1,newTab:o,nofollow:a,onTouch:r,onBlur:s,onFocus:l,pressState:c,rounding:u,to:p})=>(0,g.jsx)(h,{external:i,target:o?"blank":null,externalQueryParams:n,href:p,children:({navigate:i})=>(0,g.jsx)(m.rU,{onBlur:s?({event:e})=>s(e):void 0,onFocus:l?({event:e})=>l(e):void 0,underline:"none",href:(0,d.Z)(p),inline:t,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),null==r||r(e),e.defaultPrevented||i(e)},rel:a?"nofollow":"none",rounding:u,tapStyle:(Array.isArray(c)?c:[c]).includes("compress")?"compress":"none",children:e})}),f=({external:e,externalQueryParams:i,newTab:n,onTouch:t,to:o,...a})=>(0,g.jsx)(h,{external:e,target:n?"blank":null,externalQueryParams:i,href:o,children:({navigate:e})=>(0,g.jsx)(r.Z,{onTouch:i=>{null==t||t(i),i.defaultPrevented||e(i)},...a})});var x=n(949372),b=n(965708),y=n(30287),w=n(968228),P=n(266725),k=n(780280),T=n(281180),S=n(957161),j=n(622096);const I=(e,i=!1)=>function({isAppUpsellDisabled:n,...r}){const{children:d,clientTrackingParams:c,deeplinkUri:u,external:p,onTouch:_,refresh:h,to:v,viewParameter:f,viewType:I}=r,A=(0,x.Z)(),[C,z]=(0,t.useState)(!1),L=(0,b.Z)(),{userAgent:{platform:D},locale:Z}=(0,k.B)(),E=(0,T.Tt)(),O=()=>{(0,P.j)({event_type:1701,view_type:I,view_parameter:f}),C&&z(!1)};return(0,g.jsxs)(m.xu,{"data-test-id":"deeplink-wrapper",children:[C&&(0,g.jsx)(o.Z,{within:"deep-link-app-upsell-modal",children:({handleOpenApp:e})=>(0,g.jsx)(a.Z,{clientTrackingParams:c,isOpen:!0,onDismiss:()=>{},onOpenInApp:()=>{(0,S.Nh)("deeplinkBehavior","branchfallback"),e({deepLinkUri:u}),O()},shouldTrackDismiss:!0,to:v,viewParameter:f,viewType:I})}),(0,g.jsx)(s.Z,{children:t=>(0,g.jsx)(e,{...r,onTouch:e=>{const o=A&&!n&&L&&!p&&!h&&!(0,y.FP)(window)&&!("ios"===D&&(Z||"").startsWith("ar"))&&(0,w.kp)((0,l.Z)(E));var a;o?(e.stopPropagation(),e.preventDefault(),z(!0)):"branchfallback"!==(0,S.qn)("deeplinkBehavior")||(0,j.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,j.Nh)("fallbackAttempt",1),t(u,`${window.location.origin}${a=v,"string"==typeof a?a:`${a.pathname||""}${a.search?`?${a.search}`:""}`}`),O()),i&&o||!_||_(e)},children:d})})]})},A=I(v),C=I(f),z=I(r.Z,!0)},735079:(e,i,n)=>{n.d(i,{Z:()=>g});var t=n(966338),o=n(172071),a=n(826067);const r="http://play.google.com/store/apps/details?id=com.pinterest",s=["access_token","new_password","new_password_confirm","password","next"],l=(e,i)=>i?(0,a.ru)(e,{invite_code:i}):e,d=(e,i,n)=>{if("ios"===i&&"string"==typeof e&&e.startsWith("discover/article/")){const i=e.split("/")[2];e=`discover_article/${i}/?is_deeplink=1`}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?l(e,n):"ios"===i||"ipad"===i?l(e.iOS,n):"android"===i?l(e.android,n):null},c=({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,redirectToLite:l,unauthId:c,userAgent:u})=>{if(e){const p=(({deeplinkUri:e,invite_code:i,platform:n,fallbackUrl:t,unauthId:o})=>({deeplink_path:d(e,n,i),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:o,utm_source:140,utm_medium:2152,...t?{af_r:t}:null}))({deeplinkUri:e,fallbackUrl:i,invite_code:n,platform:t,unauthId:c,userAgent:u});if(o.Z.increment("mweb.deeplink",1,{platform:t}),n&&o.Z.increment("mweb.deeplink.invite_code",1),o.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(c)}),l){o.Z.increment("mweb.deeplink.lite_link",1);const e=(({unauthId:e})=>{const i=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(i)}})({unauthId:c});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===t){const i=(({deeplinkUri:e,invite_code:i,platform:n,unauthId:t})=>{const o=JSON.stringify({deeplink_path:d(e,n,i),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",s),install_id:t});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:o})}})({deeplinkUri:e,invite_code:n,platform:t,unauthId:c});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){const e=(0,a.ru)(window.location.href,p);window.open(e)}else window.location.href=(0,a.ru)(r,i)})).catch(o.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,a.ru)(r,i)}else{if(o.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===t&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",p));window.location.href=(0,a.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",p)}}};var u=n(619277),p=n(968228),_=n(785893);function h({children:e,invite_code:i}){const{userAgentPlatform:n,unauthId:o,userAgent:a}=(0,t.useSelector)((({session:e})=>e));return e((async(e,t)=>{c({deeplinkUri:e,fallbackUrl:t,invite_code:i,platform:n,redirectToLite:(0,p.Rp)({platform:n,userAgent:a}),unauthId:o,userAgent:a})}))}const m=e=>(0,_.jsx)(u.ty,{children:i=>(0,_.jsx)(h,{...e,invite_code:i})});m.displayName="DeepLinkNavigator";const g=m},825077:(e,i,n)=>{n.d(i,{fv:()=>g,GR:()=>p,Hs:()=>f,Mv:()=>h,uc:()=>m,dL:()=>_,qS:()=>v,Y4:()=>y,HE:()=>b,Cy:()=>x});var t=n(667294),o=n(973935),a=n(124580),r=n(266725);function s(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class l extends t.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;a.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{(0,r.vP)({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&a.Z.stop(this.node)}render(){return t.Children.only(this.props.children)}}var d=n(407043);function c({auxData:e,component:i,eventData:n,eventType:o,impressionType:r,isPaused:s,objectIdStr:l,onTracked:c,viewData:u,viewType:p,viewParameter:_}){const h=(0,t.useRef)(null),{logImpression:m}=(0,d.v)(),g=(0,t.useCallback)((()=>{const t=t=>{m({viewData:u||{},viewType:p,viewParameter:_,eventType:o,impressionType:r,auxData:e,component:i,objectIdStr:l,eventData:{endTime:t.endTime,time:t.startTime,...n}}),c&&c(n)};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=n;a.Z.start(h.current).onExitViewport(t).setDebugId(e||i||"unknown")}}catch(s){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,t.useEffect)((()=>{s||g();const e=h.current;return()=>{e instanceof HTMLElement&&a.Z.stop(e)}}),[s,g]),h}var u=n(785893);const p=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),_=e=>{const i=c({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},h=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},m=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},g=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const i=c({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},f=e=>(0,u.jsx)(l,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),x=e=>{const i=c({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},b=e=>{const i=c({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},y=e=>{const i=c({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},142958:(e,i,n)=>{n.d(i,{U:()=>s,m:()=>l});var t=n(667294),o=n(425288),a=n(785893);const{Provider:r,useHook:s}=(0,o.Z)("NavFooterContext");function l({children:e}){const[i,n]=(0,t.useState)(),[o,s]=(0,t.useState)(!1),[l,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[p,_]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1);return(0,a.jsx)(r,{value:{homeFlyoutText:i,isNavFooterHiddenAfterScroll:o,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:s,setShowHomeBadge:d,setShowHomeFlyoutWithButton:u,setShowProfileBadge:_,setShowUnauthProfileFlyout:m,showHomeBadge:l,showHomeFlyoutWithButton:c,showProfileBadge:p,showUnauthProfileFlyout:h},children:e})}},145002:(e,i,n)=>{n.d(i,{Z:()=>xe,K:()=>ce});var t=n(667294),o=n(966338),a=n(319915),r=n(680046),s=n(558150),l=n(248975),d=n(609943),c=n(958007),u=n(954571),p=n(30700),_=n(81226),h=n(116303),m=n(561195),g=n(883119),v=n(785893);function f({maxRating:e,rating:i,text:n}){return(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(m.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,v.jsx)(t.Fragment,{children:(0,v.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(g.xv,{size:"100",lineClamp:1,children:n})})})]})}var x=n(898781),b=n(755506);const y=({pinId:e})=>{var i;const n=(0,x.ZP)(),a=(0,o.useSelector)((({pins:e})=>e))[e];if(!a)return null;const{pinProduct:r}=(0,b.Fi)({i18n:n,pin:a,useGridTitleOrRichSummary:!1});if(!r||!r.price)return null;const s=r.standard_price||r.price,l=r.min_price||"",d=r.max_price||"",c=r.in_stock||!1,u=null===(i=a.rich_summary)||void 0===i?void 0:i.site_name,p="dark",_=c?p:"subtle";return(0,v.jsxs)(t.Fragment,{children:[u&&(0,v.jsx)(g.xv,{color:p,size:"100",children:u}),(0,v.jsxs)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[l&&d?(0,v.jsxs)(g.xv,{size:"100",color:_,children:[l," - ",d]}):(0,v.jsx)(g.xv,{size:"100",color:_,children:s}),!c&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",color:_,children:"·"})}),(0,v.jsx)(g.xv,{size:"100",color:_,children:n._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var w=n(947599),P=n(23084),k=n(941646),T=n(50286),S=n(803035),j=n(840137),I=n(923297),A=n(904411),C=n(925927),z=n(867820),L=n(53987);const D=(0,t.lazy)((()=>n.e(42368).then(n.bind(n,342368)))),Z=({title:e})=>{const i=(0,T.ZP)(),n=(0,C.TH)();return(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:n,item:"related-pins-title"})},children:(0,v.jsx)(g.xv,{size:"desktop"===i?"300":"100",weight:"bold",children:e})})})},E=({allowPriceIndicator:e,contextMenu:i,credits:n,hidePinMetadata:r,hasAffiliatedProducts:s,isHubFeed:l,isPromotedPin:d,isSponsoredPin:c,isSquarePin:u,marginTop:_,marginStart:m,marginEnd:b,onCreditsClick:E,pinDescription:O,pinId:R,pinnedToBoardId:U,pinReactionCounts:B,recipeCookTime:M,recipeMaxRating:H,recipeRating:N,recipeReviewCount:F,shouldShowReactions:W,style:$="default",title:G,type:q})=>{var Y,V,X,J,K,Q,ee,ie;const ne=(0,x.ZP)(),te=(0,C.TH)(),oe=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),ae=(0,T.ZP)(),re=G||O||"oneTap"===q,se=(0,o.useSelector)((({pins:e})=>e[R])),le=(0,A.gC)()(U||se&&se.board),de=se.pinner,ce=d&&(null===(Y=se.promoter)||void 0===Y?void 0:Y.id)===(null===(V=se.native_creator)||void 0===V?void 0:V.id),ue=se.sponsorship?(0,v.jsx)(g.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,pe="overlay"===$,_e=W&&B&&Object.keys(B).length>0&&(0,v.jsx)(g.xu,{height:18,display:pe?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(D,{pinReactionCounts:B})})})}),he=r?0:_||1;return(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(g.xu,{display:"flex",height:u?e?104:72:void 0,marginEnd:b||1,marginStart:m||1,position:"relative",children:[(0,v.jsxs)(g.xu,{flex:"grow",children:[(0,v.jsx)(g.xu,{display:"flex",marginTop:he,children:(0,v.jsx)(g.xu,{flex:"grow",children:(0,v.jsxs)(t.Fragment,{children:[(0,v.jsxs)(t.Fragment,{children:[(c||s)&&!ce&&(0,v.jsx)(g.xu,{marginBottom:1,children:(0,v.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(P.Z,{hasAffiliatedProducts:s,isPromoted:d,sponsorName:ue,sponsorshipStatus:null===(X=se.sponsorship)||void 0===X?void 0:X.status})})}),G&&!l&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:oe&&!r&&(0,v.jsx)(Z,{title:G})}),"desktop"===ae&&!oe&&O&&!(0,L.$Y)(te)&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-description"})},children:(0,v.jsx)(g.xv,{size:"100",inline:!0,children:O})})})]}),e&&(0,v.jsx)(y,{credits:n,pinId:R}),"recipe"===q&&!!F&&(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!F&&(0,v.jsx)(f,{maxRating:H||"",rating:N||"",text:""}),!!M&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"100",children:"·"})}),(0,v.jsx)(g.xv,{size:"100",children:(0,j.IS)({...(0,I.u)(M),i18n:ne})})]})]})})]})})}),!pe&&_e,n&&(0,v.jsx)(p.Z,{onTouch:e=>E&&E(e),pressState:"none",children:(0,v.jsx)(g.xu,{children:(!r||c||ce)&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:pe?-9:_||(re&&!r?1:0),marginBottom:r?2:0,position:"relative",direction:pe?"column":"row",children:[(0,v.jsx)(g.xu,{flex:"none",display:pe?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-avatar-image"})},children:(0,v.jsx)(h.Z,{name:n.title||"",outline:pe,size:pe?"lg":"sm",src:pe&&n.largeAvatar||n.mediumAvatar||n.avatar||void 0})})}),(0,v.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:pe?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-name"})},children:[n.title&&(0,v.jsx)(g.xv,{lineClamp:1,size:"100",weight:c&&!ce||s?"normal":"bold",children:n.title===(null==de?void 0:de.full_name)&&(null!=de&&de.is_verified_merchant||null!=de&&null!==(J=de.verified_identity)&&void 0!==J&&J.verified)?(0,v.jsx)(S.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:de.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),n.subtitle?(!c&&!r||ce)&&(0,v.jsx)(g.xv,{lineClamp:c||s?void 0:1,size:"desktop"===ae?"200":"100",weight:l||"desktop"===ae?"bold":"normal",children:n.subtitle}):!oe&&le?(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(K=le.url)&&void 0!==K?K:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),(0,z.LW)({action:"click",pageLocation:te,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:le.name})})}):null]})})]})})}),!n&&"desktop"===ae&&!!de&&((0,L.L6)(te)||(0,L.cD)(te)||(0,L.$Y)(te))&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:re?2:0,children:[(0,v.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-avatar-image"})},children:(0,v.jsx)(h.Z,{name:de.username||"",size:"sm",src:null!==(Q=de.image_small_url)&&void 0!==Q?Q:void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(g.rU,{underline:"hover",href:`/${de.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_board"),(0,z.LW)({action:"click",pageLocation:te,item:"related-pins-name"})},children:(0,v.jsx)(g.xv,{size:"200",weight:"bold",children:de.full_name||de.username})}),(0,v.jsx)(k.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(g.rU,{underline:"hover",href:null!==(ee=null==le?void 0:le.url)&&void 0!==ee?ee:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),(0,z.LW)({action:"click",pageLocation:te,item:"related-pin-text-below-name"})},children:(0,v.jsx)(g.xv,{size:"200",children:null!==(ie=null==le?void 0:le.name)&&void 0!==ie?ie:""})})})]})]}),pe&&_e]}),(0,v.jsx)(g.xu,{position:pe?"absolute":void 0,right:!0,children:i})]})})};var O=n(857079),R=n(349700);const U=(0,t.lazy)((()=>n.e(96011).then(n.bind(n,296011)))),B=({inviteCode:e})=>{const i=(0,x.ZP)();return(0,v.jsx)(g.xu,{minHeight:82,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(w.Z,{fallback:(0,v.jsx)(O.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:(0,v.jsx)(U,{invite_code:e,children:e=>{const n=e?e.sender:null,t=n&&n.first_name?n.first_name.substring(0,30):"";if(!t)return null;const o=n&&!n.is_default_image?n.image_medium_url:"",a=(0,R.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:t});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(h.Z,{name:t,src:o})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}})})})})};var M=n(344941),H=n(116578),N=n(992750);function F({pin:e,board:i,pinner:n,isHideVase:t}){return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(g.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(g.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,N.fs)(e)||e.description})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(H.C,{pin:e,board:i,pinner:n,size:"sm",isHideVase:t})})]})}function W({pin:e,board:i,pinner:n}){var t;const o=(0,x.ZP)();if(!e)return null;const{pinProduct:a}=(0,b.Fi)({i18n:o,pin:e,useGridTitleOrRichSummary:!1}),r=(null==a?void 0:a.standard_price)||(null==a?void 0:a.price),s=null===(t=e.rich_summary)||void 0===t?void 0:t.site_name;return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",direction:"column",children:[(0,v.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsxs)(g.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:[(0,v.jsx)(g.xv,{size:"sm",weight:"bold",children:r}),(0,v.jsx)(g.xv,{size:"sm",weight:"bold",lineClamp:r?3:2,children:(0,N.fs)(e)||e.description})]}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(H.C,{pin:e,board:i,pinner:n,size:"sm"})})]}),s&&r&&(0,v.jsx)(g.xv,{size:"sm",children:s})]})}var $=n(285230),G=n(364245),q=n(81759),Y=n(856919),V=n(236458),X=n(825077),J=n(185894),K=n(378518),Q=n(813401),ee=n(550407),ie=n(55275);const ne={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},te=(e,i,n)=>(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{inline:!0,href:i,tapStyle:"none",underline:"hover",children:n})},e);function oe({color:e,getFeedbackText:i,onUnfollow:n,showing:o,unfollowed:a}){const r=(0,x.ZP)(),[s,l]=(0,t.useState)(o?"fadeIn":"initial"),d=(0,t.useRef)(null);(0,t.useEffect)((()=>("initial"===s&&o&&(d.current=window.requestAnimationFrame((()=>l("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[s,l,o]);const{subTitle:c,title:u,unfollow:p}=i(te);let _=u,h=c;p&&a&&(_=p.title,h=p.subTitle);const m=()=>p?(0,ie.t)(p.action,p.actionOptions,n):void 0;return o&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ne[s]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(g.xu,{width:"100%",height:"100%",color:"darkGray",rounding:4,overflow:"auto",children:[(0,v.jsxs)(g.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.X6,{size:"400",color:"inverse",children:_}),h&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(g.xv,{color:"inverse",size:"200",inline:!0,children:h}),(0,v.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(g.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!a&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:m})})]}),!a&&p&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:m})})]})})}var ae=n(217468),re=n(780679),se=n(56961),le=n(266725);function de(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const ce=({isDesktop:e})=>e?0:1,ue=e=>Boolean(e.is_eligible_for_web_closeup),pe=e=>Boolean(e.promoter&&!e.is_downstream_promotion),_e={width:1,height:1,url:""},he=e=>{const{attribution:i,embed:n,is_eligible_for_web_closeup:t,rich_summary:o,videos:a,story_pin_data_id:r}=e,s=n||i&&i.embed;return t?"oneTap":a||s&&"video"===s.type?"video":s&&"gif"===s.type?"gif":o&&"product"===o.type_name?"product":o&&"recipe"===o.type_name?"recipe":r?"storyPin":"image"},me=e=>{if("video"===he(e)&&e.videos&&e.videos.video_list){const{duration:i=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,_.Z)(i)}return""},ge=e=>{var i;if("product"!==he(e))return null;const[n]=(null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[];if(!n)return null;const t=n.offer_summary;return t&&(t.price||t.max_price)},ve=(0,t.lazy)((()=>n.e(74672).then(n.bind(n,160465))));class fe extends t.Component{constructor(...e){super(...e),de(this,"state",{startImpressionTimer:!1}),de(this,"getPinImage",(()=>{const{pin:e,isSquarePin:i,shouldLimitResolution:n}=this.props;if(!e||!e.images)return _e;if(n&&e.images["170x"])return e.images["170x"];var t;if(i)return{height:136,url:null===(t=e.images["236x"])||void 0===t?void 0:t.url,width:136};const o=["236x","170x","136x136","736x","474x","orig"];for(const a of o)if(e.images[a]&&e.images[a].url)return e.images[a];return _e})),de(this,"getImpressionData",(()=>{var e,i;const{pin:n}=this.props,t=null===(e=n.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,o=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&n.videos?n.videos.id:void 0}:{},a=this.getPinImage();return{richTypes:n.shopping_flags||[],imageURL:a.url||"",...o,...this.props.impressionData}})),de(this,"getAuxData",(()=>{const{auxData:e={},pin:i,pwaType:n}=this.props;return{commerce_data:(0,s.Z)(i),pwa_type:n,...e}})),de(this,"getFeedbackType",(()=>{const{board:e,feedback:i,viewParameter:n,pin:t}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:i,viewParameter:n,pin:t,pinner:t.pinner})})),de(this,"getRecommendationDescription",(e=>{const{board:i,pin:n}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:n.ad_match_reason,board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,promoter:n.promoter,recommendationReason:n.recommendation_reason,sourceInterest:n.source_interest})})),de(this,"getPinHiddenFeedbackText",(e=>{const{board:i,pin:n}=this.props,t=n.promoter,o=this.feedbackHelpers.getUnfollowAction({board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,sourceInterest:n.source_interest});return pe(n)&&null!=t&&t.full_name?{title:"",subTitle:(0,R.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:t.full_name})}:o?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:o}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),de(this,"getMaxAltTextKeywords",(e=>e.startsWith("enabled_0")?0:e.startsWith("enabled_1")?1:e.startsWith("enabled_3")?3:e.startsWith("enabled_5")?5:null)),de(this,"feedbackHelpers",(0,r.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:R.nk})),de(this,"logOneTap",(()=>{const{pin:e,trackingParams:i,viewType:n,viewParameter:t,auxData:o}=this.props,a=(0,d.Z)(i,e.tracking_params),r={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:e.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:e.id,aux_data:{commerce_data:(0,s.Z)(e),grid_index:this.props.slotIndex,image_signature:e.image_signature,...this.props.auxData},clientTrackingParams:a};(0,le.j)({event_type:8948,view_type:n,view_parameter:t,object_id_str:e.id,clientTrackingParams:a,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...o}}),(0,le.jC)(r),(0,le.j)({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:a,aux_data:{closeup_navigation_type:"web_closeup",image_signature:e.image_signature},object_id_str:e.id})})),de(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),de(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),de(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),de(this,"handleClick",(e=>{const{auxData:i,componentType:n,deviceType:t,pin:o,slotIndex:a,trackingParams:r,viewParameter:l,viewType:c,onPinClick:u,isAuth:p,unauthDesktopSignupModalPageContext:_}=this.props,h=e=>(0,z.My)(`unauth_pin_rep.${e}.${String(l)}`);if(h("click"),(0,le.ob)({view_type:c,view_parameter:l,element:o.story_pin_data_id?12372:35,component:n,object_id_str:o.id,clientTrackingParams:(0,d.Z)(r,o.tracking_params),aux_data:{commerce_data:(0,s.Z)(o),grid_index:a,image_signature:o.image_signature,...i}}),ue(o)||(0,le.j)({event_type:8948,view_type:c,view_parameter:l,object_id_str:o.id,clientTrackingParams:(0,d.Z)(r,o.tracking_params),aux_data:{image_signature:o.image_signature,commerce_data:(0,s.Z)(o),closeup_navigation_type:"click",grid_index:a,cosmic_ray_count:"3",...i}}),!p)switch((0,z.LW)({action:"click",item:"pin",pageLocation:this.props.location}),c){case 3:(0,z.NC)("click_pin_related_image");break;case 5:(0,z.NC)("click_board_pin_image");break;case 210:(0,z.NC)("click_topic_pin_image")}if(ue(o)&&this.logOneTap(),u&&u(),"desktop"===t){if(e.metaKey){h("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${o.id}/`,"_blank").focus()}else if(!p&&_){const{pinImageClickHandler:i}=_;i({event:e,pin:o,linkTarget:"duploClientNav"})}}})),de(this,"handleCreditsClick",(e=>{var i;const{history:n,pin:t}=this.props,{id:o,sponsorship:a,story_pin_data_id:r}=t,{creator:s,sponsor:l}=a||{},{id:d}=s||{},{id:c}=l||{},u=!!r;e.stopPropagation(),e.preventDefault();const p=null===(i=this.getCredits())||void 0===i?void 0:i.link;p&&n.push(p),(0,le.So)({view_type:3,element:27,object_id_str:o,component:u?230:void 0,aux_data:{pin_id:o,...d&&c?{creator_id:d,sponsor_id:c}:{}}})})),de(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),de(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:i,board:n,setSharingOnBoardPage:t}=this.props;n&&i&&t&&n.isSocialSeasonalBoard&&t(!0,"pin",i.id)})),de(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:i,viewParameter:n}=this.props,t=3375===n;return e&&43===n&&!(0,u.Z)(i)||t})),de(this,"convertToGif",(e=>{const i=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:i,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:i,pin:n,viewParameter:t,location:o}=this.props;if(!e&&0===i&&3070===t){const e=o.pathname;(0,q.H$)(e,n)}}getIsClaimedContent(){var e,i;const{pin:n,viewParameter:t}=this.props;return 3375===t&&!(null===(e=n.link_domain)||void 0===e||null===(i=e.official_user)||void 0===i||!i.is_primary_website_verified)}getCredits(){const{board:e,pin:i,storyPin:n,viewParameter:t}=this.props,o=i.pinner,a=i.promoter,r=null==n?void 0:n.has_product_pins,s=0===t,l=3475===t,d=3173===t,c=3375===t,u=this.getIsClaimedContent(),p=i.native_creator,_=!!i.native_creator,h=pe(i),{sponsorship:m}=i,{creator:g,sponsor:v}=m||{},f=h&&!!m&&(null==a?void 0:a.id)!==(null==p?void 0:p.id),x=!!m&&g;if(!(h||x||s||d||_||u))return;switch(f?"PROMOTED_SPONSORED":h?"PROMOTED":x?"SPONSORED":_?"AFFILIATED_PRODUCTS":r?"NATIVE_CONTENT":u?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==p?void 0:p.full_name,subtitle:null==a?void 0:a.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==a?void 0:a.full_name,avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:null!=a&&a.username?`/${a.username}/`:""};case"SPONSORED":if(!m)throw new Error("sponsorship doesn't exist when expected");return{title:null==p?void 0:p.full_name,subtitle:null==v?void 0:v.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==p?void 0:p.full_name,subtitle:"",avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:null!=p&&p.username?`/${p.username}/`:""};case"NATIVE_CONTENT":let n=(null==e?void 0:e.url)||`/pin/${i.id}/`;return(c||l)&&(n=null!=p&&p.username?`/${p.username}/`:""),{title:l?this.props.i18n._('Created by', 'created by label for story pins', 'created by label for story pins'):"",subtitle:null==p?void 0:p.full_name,avatar:this.getPinnerImage(null==p?void 0:p.image_small_url),mediumAvatar:this.getPinnerImage(null==p?void 0:p.image_medium_url),largeAvatar:this.getPinnerImage(null==p?void 0:p.image_large_url),link:n};case"CLAIMED_CONTENT":const{link_domain:t}=i,{official_user:r}=t||{};return r?{subtitle:r.full_name,avatar:this.getPinnerImage(r.image_small_url),mediumAvatar:this.getPinnerImage(r.image_medium_url),largeAvatar:this.getPinnerImage(r.image_large_url),link:r.username?`/${r.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`};default:return{title:(null==o?void 0:o.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:i,viewedSharedPins:n,pinId:t}=this.props;return 92===i?null===(e=n&&n[t])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:i,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==i?void 0:i.display_name,description:n}}renderPinCard(){var e,i,n,t,o,r,s,u,_,h,m,f,x,b,y;const{activateSearchIdeaPinExperiment:P,activateFewerAltTextKeywordsExp:T,activateUnauthProductAttributionExp:S,activateUnauthRemoveVaseRelatedPinsExp:j,activateUnauthRemoveVaseRelatedPinsFFExp:I,board:A,country:C,disableAppUpsell:D,disablePinCardPadding:Z,disableRounding:O,disableReaction:R,deviceType:U,experience:H,feedback:q,hidePinMetadata:X=!1,imageOnly:J,i18n:K,isAuth:Q,isOneTapExploreLocalTab:ee,isSquarePin:ie,isRelatedPinOnView:ne,isImageOnlyExp:te,location:ae,marginBottom:re,marginStart:se,marginEnd:le,onPinLinkClick:de,oneTapSave:_e,pin:fe,storyPin:xe,pinCardDetailsMarginTop:be,slotIndex:ye,trafficSource:we,viewParameter:Pe,viewType:ke,shouldAllowProductPriceIndicator:Te,showSeoMetadata:Se,topLevelTrafficSource:je,topLevelTrafficSourceDepth:Ie,undoAction:Ae,undoActionOptions:Ce,trackingParams:ze,vaseDisplayMode:Le,onUnauthDesktopContextMenu:De}=this.props,{aggregated_pin_data:Ze,category:Ee,image_signature:Oe,promoter:Re,rich_summary:Ue,title:Be,sponsorship:Me}=fe,{description:He,title:Ne}=this.getPinText(),Fe="desktop"===U,We=he(fe),$e=0===Pe,Ge=3475===Pe,qe=pe(fe),Ye=!!Me,Ve=null==xe?void 0:xe.has_product_pins,Xe=null==xe?void 0:xe.is_deleted,Je=(0,d.Z)((ae&&ae.state||{}).trackingParams||ze,fe.tracking_params),Ke="product"===he(fe)&&S().anyEnabled,Qe=(0,L.L6)(ae)&&j().anyEnabled,ei=(0,L.L6)(ae)&&I().anyEnabled,ii=Qe||ei,ni=te&&!this.isOverrideImageOnly(),ti=A&&A.isSocialSeasonalBoard,oi=this.getPinImage(),ai=ti&&"gif"===We?this.convertToGif(fe):oi,ri=null===(e=fe.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,si=(0,L.L6)(ae)&&T().group||"",li=this.getMaxAltTextKeywords(si),di=(0,N.hP)(null!==(n=fe.description)&&void 0!==n?n:"",fe.description_html||"",null===(t=fe.pin_join)||void 0===t?void 0:t.seo_description,null===(o=fe.pin_join)||void 0===o?void 0:o.visual_annotation,fe.alt_text||"",null!=li?li:void 0),{annotationsWithLinks:ci}=(0,N.eK)(fe),ui=Q?He:(0,c.Z)(fe),pi=H&&H.display_data.hideReactions||!1,_i=H&&H.display_data.hideDesc||!1,hi=!R&&(0,V.J6)(fe)&&!Ge&&!pi,mi=!Q&&!!fe.story_pin_data_id&&!!fe.seo_url;let gi;gi=ue(fe)?fe.tracked_link||fe.link:mi?fe.seo_url:`/pin/${fe.id}/`;const vi=!He||ni&&!$e?void 0:He.trim(),fi=this.getSharedHeaderInviteCode(),xi={country:C,deeplinkUri:mi?fe.seo_url:`pin/${fe.id}`,external:ue(fe),externalQueryParams:{pin:fe.id,client_tracking_params:ze},isAppUpsellDisabled:D,onTouch:this.handleClick,pinCategory:fe.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:gi,state:{trackingParams:ze,trafficSource:we,topLevelTrafficSource:je,topLevelTrafficSourceDepth:Ie}},upsellType:"direct",viewParameter:Pe,viewType:ke,clientTrackingParams:Je},bi=ce({isDesktop:Fe}),yi=fe.native_creator||fe.pinner,wi="search"===we&&"storyPin"===We&&P().anyEnabled;return(0,v.jsxs)(g.xu,{"data-test-id":"pin","data-test-pin-id":fe.id,marginBottom:re||(Fe||X?0:2),children:[(0,v.jsxs)(g.xu,{"data-test-id":di||Ne||He?"pin-with-alt-text":"pin-missing-alt-text",paddingY:X||Z?0:bi,paddingX:Z?0:bi,marginBottom:0,onContextMenu:yi?De(fe,yi):void 0,children:[(0,v.jsxs)(Y.MZ,{...xi,children:[!!fi&&(0,v.jsx)(B,{inviteCode:fi}),Xe?(0,v.jsx)($.Z,{isPinRep:!0}):(0,v.jsx)(M.Z,{clientTrackingParams:Je,color:null!==(r=fe.dominant_color)&&void 0!==r?r:"",description:vi,domainLinkData:fe.domain&&fe.link?{clickLoggingOptions:{auxData:{objectId:fe.id,grid_index:ye,sanitized_url:fe.link}},domain:fe.domain,link:fe.link,onClick:de}:void 0,disableRounding:O,hideBottomCardText:ti,image:ai,imageAltText:di,imageCrop:fe.image_crop,isMessenger:ti,isOneTapExploreLocalTab:ee,isSquarePin:ie,isRelatedPinOnView:ne,onError:this.handleError,oneTapSave:_e,onLoad:this.handleLoad,pinId:fe.id,pinnedToBoardId:(null===(s=fe.pinned_to_board)||void 0===s?void 0:s.id)||"",pinVideo:ti&&ri||void 0,productPrice:Te?ge(fe):null,slotIndex:ye,storyData:xe,title:!ni||$e?Ne:void 0,type:We,videoDuration:me(fe),viewType:ke})]}),(Ge||!J&&(Q||"desktop"===U)||"shop_feed_auth_and_unauth_mweb_override"===we)&&(0,v.jsxs)(g.xu,{children:[!ii&&"desktopParity"===Le&&ci&&ci.length>0&&(0,v.jsx)(G.Z,{annotations:ci,mode:"inlineWithScrollArrows"}),(0,v.jsx)(Y.MZ,{...xi,children:(0,v.jsx)(E,{allowPriceIndicator:!Te&&["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(we),marginTop:be,hidePinMetadata:X||_i,contextMenu:Q&&!Xe?(0,v.jsx)(g.xu,{marginStart:1,marginTop:be,children:(0,v.jsx)(g.xu,{height:26,width:24,children:(0,v.jsx)(a.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(ve,{adMatchReason:fe.ad_match_reason,bestPinImgSrc:(0,l.Z)({images:fe.images,embedSrc:null===(u=fe.embed)||void 0===u?void 0:u.src,embedType:null===(_=fe.embed)||void 0===_?void 0:_.type}),feedback:q,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:Oe,pinCategory:Ee,pinDescription:ui,pinId:fe.id,pinImgSrc:ai.url,pinTitle:Be,sourceType:qe?"ad":$e?"following":void 0,viewParameter:Pe,viewType:ke,trackingParams:ze})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:Ve,isHubFeed:Ge,isPromotedPin:qe,isSponsoredPin:Ye,isSquarePin:ie,marginStart:se,marginEnd:le,onCreditsClick:this.handleCreditsClick,pinDescription:ui,pinId:fe.id,pinnedToBoardId:(null===(h=fe.pinned_to_board)||void 0===h?void 0:h.id)||"",pinReactionCounts:fe.reaction_counts,pinTagsChips:(Ze||{}).pin_tags_chips,promoterName:null==Re?void 0:Re.full_name,recipeCookTime:ni?void 0:fe.rich_summary&&fe.rich_summary.display_cook_time,recipeMaxRating:ni||null==Ue||null===(m=Ue.aggregate_rating)||void 0===m?void 0:m.best_rating,recipeRating:ni||null==Ue||null===(f=Ue.aggregate_rating)||void 0===f?void 0:f.rating_value,recipeReviewCount:ni||null==Ue||null===(x=Ue.aggregate_rating)||void 0===x?void 0:x.review_count,shouldShowReactions:hi,style:wi?"overlay":"default",title:wi?void 0:Ne,type:We})})]})]}),(null==A?void 0:A.isSocialSeasonalBoard)&&Q&&(0,v.jsx)(g.xu,{color:"lightGray",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(g.xu,{padding:3,children:(0,v.jsx)(g.xv,{align:"center",weight:"bold",children:K._('Send', ' - ', ' -- ')})})})}),"reported"===fe.feedback_status?(0,v.jsx)(oe,{color:null!==(b=fe.dominant_color)&&void 0!==b?b:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:fe.id,showing:!!fe.feedback_status}):(0,v.jsx)(oe,{color:null!==(y=fe.dominant_color)&&void 0!==y?y:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:fe.id,showing:!!fe.feedback_status,undoAction:Ae,undoActionOptions:Ce,unfollowed:"unfollowed"===fe.feedback_status,viewParameter:Pe,viewType:ke}),Se&&"inlineHidden"===Le&&!Ke&&(0,v.jsx)(k.Z,{id:"related-pins-title",children:(0,v.jsx)(g.iP,{onTap:()=>{(0,z.LW)({action:"click",pageLocation:ae,item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(F,{pin:fe,board:A,pinner:fe.pinner,isHideVase:ii})})}),!Q&&Ke&&(0,v.jsx)(W,{pin:fe,board:A,pinner:fe.pinner})]})}render(){const{componentType:e,pin:i,trackingParams:n,viewParameter:t,viewType:o,slotIndex:a,objectIdStr:r,viewData:s}=this.props,{startImpressionTimer:l}=this.state;return i?(0,v.jsx)(X.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!l,loggingId:i.id,objectIdStr:r,onTracked:this.markPinAsSeen,slotIndex:a,trackingParams:n,viewData:s,viewParameter:t,viewType:o,children:({impressionTrackerRef:e})=>(0,v.jsx)(g.xu,{ref:e,children:this.renderPinCard()})}):null}}const xe=(0,o.connect)((({boards:e,experiences:i,pins:n,session:t,users:o,storyPins:a},r)=>{const s=n[r.pinId]||null,l=s&&s.story_pin_data_id?a[s.story_pin_data_id]:void 0,d=i[1000107];return{board:s&&e[s.board],country:t.country,hasPoorConnection:t.hasPoorConnection,isAuth:t.isAuthenticated,isImageOnlyExp:d&&500678===d.experience_id,pin:s,storyPin:l,undoAction:s&&s.undoAction,undoActionOptions:s&&s.undoActionOptions,viewer:o[t.userId],viewedSharedPins:t.viewedSharedPins}}),((e,{viewParameter:i,viewType:n})=>({markPinAsSeen:t=>e((0,se.DX)({pinId:t,viewParameter:i,viewType:n})),markPinUnfollowed:i=>e((0,se.fH)(i,"unfollowed")),setSharingOnBoardPage:(i,n,t)=>e((0,J.Mj)(i,n,t))})))((function(e){const i=(0,x.ZP)(),n=(0,re.g)(),t=(0,ae.t)("mweb_web_android_ios_backend_clbc_display_controls"),o=(0,ae.t)("mweb_web_android_ios_clbc_eu_ad_string"),a=(0,ae.t)("mweb_search_ideapin_module"),r=(0,ae.t)("unauth_fewer_alt_text_keywords_ffe"),s=(0,ae.t)("mweb_unauth_grid_product_attribution_ff"),l=(0,ae.t)("unauth_remove_vase_related_pins"),d=(0,ae.t)("unauth_remove_vase_related_pins_ff"),c=(0,T.ZP)(),u=(0,ee.B)(),p=(0,Q.yz)(),_=(0,K._)({id:1000107});return(0,v.jsx)(fe,{...e,onUnauthDesktopContextMenu:u,deviceType:c,activateEUSponsorshipDisclosureExp:o,activateSponsorshipDisclosureExp:t,activateSearchIdeaPinExperiment:a,activateFewerAltTextKeywordsExp:r,activateUnauthProductAttributionExp:s,activateUnauthRemoveVaseRelatedPinsExp:l,activateUnauthRemoveVaseRelatedPinsFFExp:d,experience:_,pwaType:p,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===c?"desktopParity":"inlineHidden",i18n:i})}))},344941:(e,i,n)=>{n.d(i,{Z:()=>G});var t=n(667294),o=n(966338),a=n(733756),r=n(499128),s=n(898781),l=n(728214),d=n(569046),c=n(332611),u=n(185894),p=n(856919),_=n(479739),h=n(500594),m=n(56961),g=n(883119),v=n(925927),f=n(785893);const x=new g.Ry(1),b=(0,d.Z)((({buttonText:e,clientTrackingParams:i,color:n="red",deeplinkUri:d,experience:b,inline:y=!0,minWidth:w,onTouch:P,onUnsave:k,pinId:T,pinnedToBoardId:S,shape:j,shouldShowSavedButton:I,showRepinConfirmation:A,showToast:C,viewType:z,viewParameter:L,showSaveHandoffExperience:D})=>{var Z;const E=(0,s.ZP)(),O=(0,o.useDispatch)(),R=(0,v.k6)(),U=(0,v.TH)().pathname.startsWith("/pin"),B=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),M=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),H=null===(Z=(0,o.useSelector)((e=>(0,_.ts)(e))))||void 0===Z?void 0:Z.pin_count,N=()=>{O((0,m.Bp)({history:R,i18n:E,onSuccess:()=>{b&&O((0,c.CK)(b.placement_id,b.experience_id))},originalPinId:T,pinId:T,trackingParams:{clientTrackingParams:i,pinnedToBoardId:S},showRepinConfirmation:D&&!U?()=>{}:A,disableRepinAnimation:M===T,pinCount:H})).catch((e=>C((({hideToast:i})=>(0,f.jsx)(r.ZP,{variant:"error",text:e.message||E._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},F=(0,t.useRef)(null),W=D&&!B,$=(0,l.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),P&&P(e),I?I&&k&&k():N()},modalHeader:(0,h.Bx)(E)});(0,t.useEffect)((()=>{W&&!F.current&&(N(),O((0,u.e2)())),F.current=W}));const G=()=>E._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),q=()=>e||E._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return B&&!U?null:(0,f.jsx)(g.xu,{"data-test-id":"save-button-mobile",zIndex:x,children:d?(0,f.jsx)(p.di,{accessibilityLabel:G(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:d,inline:y,minHeight:48,minWidth:w,onTouch:$,pressState:["compress","background"],shape:j,size:"lg",text:q(),to:R.location.pathname,upsellType:"save",viewType:z,viewParameter:L}):(0,f.jsx)(a.Z,{accessibilityLabel:G(),color:n,customStyles:{padding:"14px 16px"},inline:y,minHeight:48,minWidth:w,onTouch:$,pressState:"compress",shape:j,size:"lg",text:q()})})}));var y=n(634291),w=n(867820),P=n(716235),k=n(343341);function T(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class S extends t.PureComponent{constructor(...e){var i;super(...e),i=this,T(this,"state",{saveState:void 0}),T(this,"legoFixedZIndex",new g.Ry(2)),T(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:t,oneTapSave:o,pinId:a,pinnedToBoardId:s,showToast:l,viewType:d}=i.props;try{const t=await n((0,m.wh)({i18n:i.props.i18n,originalPinId:a,pinId:a,boardId:null==o?void 0:o.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==o?void 0:o.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:d}));i.setState({saveState:"saved"}),n((0,P.a)({boardId:null==o?void 0:o.boardId,localPinId:t.id,pinId:a}))}catch(c){l((({hideToast:e})=>(0,f.jsx)(r.ZP,{variant:"error",text:c.message||t._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),T(this,"onDeletePin",(async function(){const{dispatch:e,i18n:n,pinId:t,savedInfo:o,showToast:a}=i.props;if(o){e((0,P.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:t}));try{await e((0,m.q$)(o.localPinId,o.boardId)),a((({hideToast:e})=>(0,f.jsx)(r.ZP,{text:n._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){a((({hideToast:e})=>(0,f.jsx)(r.ZP,{variant:"error",text:n._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),T(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:t,isOneTapExploreLocalTab:o,pinnedToBoard:a}=this.props;["saving","deleting"].includes(i)||o&&a||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),o?n.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,h.Bx)(this.props.i18n)})),T(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{children:e,clientTrackingParams:i,homepageExperience:n,i18n:o,isOneTapExploreLocalTab:a,isRTL:r,location:s,oneTapSave:l,pinId:d,pinnedToBoard:c,pinnedToBoardId:u,savedInfo:p,shouldShowSaveHandoffExp:_}=this.props;if(!l&&!a&&!_)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:a,pinnedToBoard:c,savedInfo:p}),m="#000",v="rgba(255, 255, 255, 0.8)",x="light",y="dark";return(0,f.jsxs)(t.Fragment,{children:[e,(0,f.jsx)(g.xu,{bottom:!0,left:r,padding:2,position:"absolute",right:!r,zIndex:this.legoFixedZIndex,children:_?(0,f.jsx)(b,{buttonText:!!c&&o._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'),clientTrackingParams:i,color:c?"white":"red",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,to:{pathname:`/pin/${d}/repin/`,state:{trackingParams:s.state?s.state.trackingParams:""}},showSaveHandoffExperience:_}):(0,f.jsx)(g.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?m:v}},padding:2,rounding:"circle",children:(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,f.jsx)(g.JO,{accessibilityLabel:h?o._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):o._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:h?"check":"add",color:h?x:y,size:"24"})})})})})]})}}const j=(0,o.connect)(((e,{pinId:i})=>({savedInfo:e.pins[i]&&e.pins[i].savedInfo,pinnedToBoard:e.pins[i]&&e.pins[i].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:i}=(0,k.F9)(),n=(0,s.ZP)(),a=(0,l.Z)(),r=(0,o.useDispatch)(),d=(0,v.k6)(),c=(0,v.TH)(),{isRTL:u}=(0,o.useSelector)((({session:e})=>e)),p=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),h=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),g=(0,o.useSelector)((e=>{var i;return null===(i=(0,_.ts)(e))||void 0===i?void 0:i.pin_count})),x=h&&!!p&&p===e.pinId,{pins:b,clear:P}=(0,y.Z)(),T=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{h&&!T.current&&b.length>0&&(T.current=!0,b.forEach((({id:e})=>{r((0,m.Bp)({history:d,i18n:n,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:g})).catch((e=>{(0,w.My)(`error.unauth_profile_pin_merge.${e}`)}))})),P())})),(0,f.jsx)(S,{...e,i18n:n,requireAuthForLimitedLogin:a,history:d,location:c,showToast:i,shouldShowSaveHandoffExp:x,isRTL:u})}));j.displayName="OneTapSave";const I=j;var A=n(883561),C=n(349700);function z({boardUrl:e,boardName:i,isQuicksave:n,sectionName:t,sectionSlug:o}){const a=(0,s.ZP)(),r=(0,v.k6)(),l=new g.Ry(1),d=!!o&&`${e}${o}/`;return(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:l,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,f.jsx)(g.iP,{onTap:i=>{i.event.preventDefault(),r.push(n?"/me/":d||e)},children:(0,f.jsx)(g.xv,{color:"inverse",children:t?(0,C.nk)(a._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",inline:!0,children:(0,A.ZP)(t,22)},`pincard-${t}`)}):(0,C.nk)(a._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",inline:!0,children:n?a._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,A.ZP)(i,22)},`pincard-${i}`)})})})})})}var L=n(965708),D=n(365087),Z=n(691426),E=n(217468),O=n(50286);const R=({clientTrackingParams:e,pin:i,savedBoardId:n,show:a})=>{var r;const l=(0,s.ZP)(),d=(0,L.Z)(),c=(0,O.ml)(),[u,p]=(0,t.useState)(!(null==i||null===(r=i.pinned_to_board)||void 0===r||!r.id));(0,t.useEffect)((()=>{p(!(null==i||!i.savedThisSession))}),[null==i?void 0:i.savedThisSession]);const _=(0,Z.Z)(i,null!=i&&i.pinned_to_board?{...i.pinned_to_board,id:n||i.pinned_to_board.id||"",isSocialSeasonalBoard:void 0,type:"board",sensitivity:void 0}:null,{showSingleToast:!0,onError:()=>p(!0)}),h=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),m=d&&!!h,v=(0,D.Z)({clientTrackingParams:e,experience:null,hasSaveHandoffExperience:m,onError:()=>p(!1),pinId:null==i?void 0:i.id,pinnedToBoardId:n,shouldShowSavedButton:!1,showSingleToast:!0}),x=(0,E.t)("mweb_quick_save_rp"),{savedIcon:b,unsavedIcon:y,rotate:w,color:P}=(()=>{if(d&&a&&c){const e=x().group;if(e.startsWith("enabled_add_white"))return{unsavedIcon:"add",savedIcon:"check",rotate:!1,color:"white"};if(e.startsWith("enabled_pin_white"))return{unsavedIcon:"pin",savedIcon:"pin",rotate:!0,color:"white"};if(e.startsWith("enabled_pin_red"))return{unsavedIcon:"pin",savedIcon:"pin",rotate:!0,color:"red"}}return{rotate:!1,color:"lightGray"}})(),k=!u&&w?45:0;return(0,f.jsx)(g.xu,{children:!!y&&!!a&&(0,f.jsx)(g.xu,{zIndex:new g.Ry(2),overflow:"hidden",position:"absolute",bottom:!0,right:!0,margin:2,dangerouslySetInlineStyle:{__style:{transform:`rotateY(0deg) rotate(${k}deg)`,transition:"transform 0.5s"}},children:(0,f.jsx)(g.hU,{accessibilityLabel:l._('Quick save pin', 'pin.pincard.quicksave.iconAccessibilityLabel', 'icon for quick save action'),bgColor:u?"darkGray":P,icon:u?b:y,onClick:e=>{e.event.preventDefault(),p((e=>!e)),u?_():null==v||v(e.event)},size:"sm"})})})};var U=n(252745),B=n(310227),M=n(904411),H=n(780679),N=n(627995);const F=({domainLinkData:e})=>{const i=(0,s.ZP)(),n=(0,H.g)();return(0,f.jsxs)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,f.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,f.jsx)(g.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,f.jsx)(g.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,f.jsx)(N.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})},W=({width:e,height:i,minY:n,maxY:t})=>{const o=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":o(-1*n*i),bottom:t>=1?"0%":o(-1*(1-t)*i)}},$=({children:e,margin:i,disableRounding:n})=>(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,f.jsx)(g.zd,{wash:!0,rounding:n?0:B.mv,children:e})}),G=({clientTrackingParams:e,color:i,description:n,domainLinkData:a,hideBottomCardText:r,image:l,imageAltText:d,imageCrop:c,isMessenger:u,isOneTapExploreLocalTab:p,isSquarePin:_,isRelatedPinOnView:h,onError:m,oneTapSave:v,onLoad:x,pinId:b,pinnedToBoardId:y,pinVideo:w,productPrice:P,disableRounding:k,storyData:T,title:S,type:j,videoDuration:A,viewType:C})=>{var L,D,Z,E,B,H,N,G,q,Y;const V=(0,s.ZP)(),[X,J]=(0,t.useState)(!1),K=(0,o.useSelector)((({session:e})=>e.isAuthenticated)),Q=(0,O.ZP)(),ee=(0,o.useSelector)((({pins:e})=>e[b])),ie=(0,M.gC)()(y||ee&&ee.board),ne=y&&ee.savedThisSession,te=a&&a.link?"with-link":"without-link",oe=!K&&"desktop"!==Q,ae=(0,f.jsx)(g.Ee,{alt:d||S||n||"",color:i,naturalHeight:null!==(L=l.height)&&void 0!==L?L:1,naturalWidth:null!==(D=l.width)&&void 0!==D?D:1,onError:m,onLoad:x,src:null!==(Z=l.url)&&void 0!==Z?Z:"",fit:_?"cover":void 0}),re=_?(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,f.jsx)(g.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:ae})}):ae;return(0,f.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,f.jsxs)(g.xu,{"data-test-id":`pincard-${j}-${te}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:oe?void 0:()=>J(!0),onMouseLeave:oe?void 0:()=>J(!1),position:"relative",rounding:k?0:4,children:[(0,f.jsxs)(I,{clientTrackingParams:e||"",oneTapSave:v,isOneTapExploreLocalTab:p,pinId:b,pinnedToBoardId:y,viewType:C,children:["gif"===j&&!r&&!ne&&(0,f.jsx)(U.Z,{text:V._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')}),"video"===j&&A&&!r&&!ne&&(0,f.jsx)(U.Z,{text:A}),"storyPin"===j&&T&&"number"==typeof T.page_count&&T.page_count>0&&!ne&&(0,f.jsx)(U.Z,{icon:"idea-pin",text:T.page_count.toString()}),"product"===j&&!!P&&(0,f.jsx)(U.Z,{text:P}),(0,f.jsx)(R,{pin:ee,clientTrackingParams:e,savedBoardId:ne,show:h}),(0,f.jsx)($,{disableRounding:k,margin:c?W({width:null!==(E=l.width)&&void 0!==E?E:1,height:null!==(B=l.height)&&void 0!==B?B:1,minY:c.min_y,maxY:c.max_y}):void 0,children:"video"===j&&u&&w?(0,f.jsx)(g.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:V._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:w.width/w.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(H=l.url)&&void 0!==H?H:"",src:w.url,volume:0}):re})]}),X&&!K&&(0,f.jsx)(F,{domainLinkData:a}),K&&ne&&(0,f.jsx)(z,{boardName:null!==(N=null==ie?void 0:ie.name)&&void 0!==N?N:"",boardUrl:null!==(G=null==ie?void 0:ie.url)&&void 0!==G?G:"",sectionName:null==v||null===(q=v.section)||void 0===q?void 0:q.title,sectionSlug:null==v||null===(Y=v.section)||void 0===Y?void 0:Y.slug,isQuicksave:"quick_saves"===(null==ie?void 0:ie.layout)})]})})}},252745:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(898781),o=n(643010),a=n(883119),r=n(785893);function s({text:e,icon:i,largeIdentifier:n,largeMargin:s}){const l=(0,t.ZP)();return(0,r.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,o.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:s?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[i&&(0,r.jsx)(a.xu,{marginEnd:n?2:1,children:(0,r.jsx)(a.JO,{accessibilityLabel:l._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:n?18:12})}),(0,r.jsx)(a.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},236458:(e,i,n)=>{function t(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function o(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function a(e){const{videos:i,is_downstream_promotion:n,is_promoted:t,story_pin_data_id:o,board:a}=e;return!(t||n||(!i||!i.id)&&!o||a&&a.is_collaborative)}n.d(i,{At:()=>t,J6:()=>a,Ud:()=>o})},116578:(e,i,n)=>{n.d(i,{C:()=>P,Z:()=>w});var t=n(667294),o=n(966338),a=n(373420),r=n(121151),s=n(6637),l=n(941646),d=n(898781),c=n(364245),u=n(349700),p=n(643010),_=n(217468),h=n(925927),m=n(992750),g=n(867820),v=n(50286),f=n(883119),x=n(785893);function b({board:e,pinner:i}){var n,t;const o=(0,h.TH)(),a=(0,v.HG)();if(!e.url||!e.name)return null;const r=e.url.split("/")[1],s=i&&i.full_name?i.full_name:r,d=i&&(i.image_small_url||i.image_large_url);return(0,x.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[d?(0,x.jsx)(f.iP,{role:"link",href:`/${r}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,g.My)(`pcons.${a?"desktop":"mobile"}.see-more-button-creator`),(0,g.LW)({action:"click",pageLocation:o,item:"see-more-button-creator"})},children:(0,x.jsx)(f.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,x.jsx)(f.Ee,{naturalHeight:32,naturalWidth:32,alt:s,fit:"cover",color:"rgb(231, 186, 176)",src:d})})},"profile-link"):null,(0,x.jsxs)(f.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,x.jsx)(l.Z,{id:"see-more-button-creator-full-name",children:(0,x.jsx)(f.iP,{onTap:()=>{(0,g.My)(`pcons.${a?"desktop":"mobile"}.see-more-button-creator-full-name`),(0,g.LW)({action:"click",pageLocation:o,item:"see-more-button-creator-full-name"})},children:(0,x.jsx)(f.xv,{color:"default",inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(f.rU,{href:`/${r}/`,inline:!0,tapStyle:"compress",underline:"hover",children:s},"profile-link")},"profileLink")})}),(0,x.jsx)(f.xv,{color:"default",inline:!0,size:"200",children:(0,x.jsx)(f.rU,{href:null!==(n=e.url)&&void 0!==n?n:"",inline:!0,tapStyle:"compress",underline:"hover",children:null!==(t=e.name)&&void 0!==t?t:""},"board-link")},"boardLink")]})]})}function y({annotations:e,board:i,description:n,pin:t,pinner:a,title:r,isAuth:s,pinCreditPrefix:l,onClickTitleOrDomain:p,isHideVase:m}){const y=(0,d.ZP)(),w=(0,h.TH)(),{isSeoBot:P}=(0,o.useSelector)((({session:e})=>e)),k=(0,v.ml)(),T=(0,_.t)("mweb_add_pin_url_link"),S=!s&&!P&&k&&T().group,j=p||null;return(0,x.jsxs)(f.xu,{children:[!m&&(0,x.jsx)(f.xu,{marginBottom:2,children:e.length>0&&(0,x.jsx)(c.Z,{annotations:e,mode:"expanded"})}),(0,x.jsxs)(f.xu,{marginBottom:3,children:[(0,x.jsxs)(f.xu,{as:"figcaption",children:[(0,x.jsx)(f.X6,{color:"default",size:"400",accessibilityLevel:3,children:r}),(0,x.jsx)(f.xu,{height:4}),(0,x.jsx)(f.xv,{color:"default",children:n})]}),"enabled_vase_modal_contents"===S&&(0,x.jsx)(f.xu,{marginTop:2,children:(0,x.jsx)(f.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,u.nk)(y._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,x.jsx)(f.xu,{display:"inlineBlock",children:(0,x.jsx)(f.xv,{inline:!0,size:"md",children:l})},"pinCreditsPrefix"),pinCredit:(0,x.jsx)(f.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,x.jsx)(f.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),(0,g.LW)({action:"click",pageLocation:w,item:"pin-domain-link"}),(0,g.My)("mweb_pin_page.pin_link.clickthrouh"),s||(0,g.NC)("click_pin_closeup_link_clickthrough"),j&&j()},tapStyle:"compress",children:(0,x.jsx)(f.xv,{size:"md",lineClamp:1,children:(0,x.jsx)("span",{style:{textDecoration:"underline"},children:t.domain})},"pinLinkDomain")})},"pinCredits")})})})]}),!!i&&(0,x.jsx)(b,{board:i,pinner:a})]})}function w({pin:e,board:i,iconColor:n,pinner:o,size:a,isAuth:r,isMainPin:l,pinCreditPrefix:d,onClickTitleOrDomain:c}){const u=e.id,[p,_]=(0,t.useState)([]),[h,g]=(0,t.useState)(""),v={id:u,field_set_key:"unauth_ssr_lazy_load"};return(0,t.useEffect)((()=>{(async()=>{0!==p.length||h||s.ZP.create("PinResource",v).callGet().then((({resource_response:i})=>{var n;const t={...e,pin_join:null==i||null===(n=i.data)||void 0===n?void 0:n.pin_join},{annotationsWithLinks:o,description:a}=(0,m.eK)(t);_(o),g(a)}))})()})),(0,x.jsx)(P,{pin:e,board:i,iconColor:n,pinner:o,size:a,isAuth:r,isMainPin:l,pinCreditPrefix:d,onClickTitleOrDomain:c,lazyLoadedAnnotationsWithLinks:p,lazyLoadedDescription:h})}function P({pin:e,board:i,iconColor:n,pinner:s,size:l,isAuth:c,isMainPin:u,pinCreditPrefix:_,onClickTitleOrDomain:b,lazyLoadedAnnotationsWithLinks:w,lazyLoadedDescription:P,isHideVase:k}){const T=(0,d.ZP)(),{unauthInterstitialDismissed:S,isSeoBot:j}=(0,o.useSelector)((({session:e})=>e)),[I,A]=(0,t.useState)(!1),C=(0,v.HG)(),z=(0,v.Wb)();let L,D;if(w&&w.length>0||P)L=w||[],D=P||"";else{const{annotationsWithLinks:i,description:n}=(0,m.eK)(e);L=i,D=n}const Z=(0,m.fs)(e)||e.description,E=!C,O=(0,h.TH)(),R=(0,x.jsxs)(f.xu,{padding:5,children:[(0,x.jsx)(f.xu,{left:!0,position:"absolute",top:!0,color:"white",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,x.jsx)(f.hU,{accessibilityLabel:T._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,g.My)("mweb.unauth.see_more.dismissed"),(0,g.LW)({action:"click",pageLocation:O,item:"close-seo-vase-see-more-button"}),A(!1),u&&(0,g.My)("mweb.unauth.see_more.main_pin.dismissed")}})}),(0,x.jsx)(f.xu,{marginBottom:8,children:(0,x.jsx)(f.xv,{align:"center",weight:"bold",children:(0,x.jsx)("span",{className:"deprecatedTextSizeXL",children:T._('More information', 'more information label', 'more information label')})})}),(0,x.jsx)(y,{annotations:L,board:i,description:D,pin:e,pinner:s,title:Z,isAuth:c,pinCreditPrefix:_,onClickTitleOrDomain:b,isHideVase:k})]});return(0,x.jsxs)(f.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,x.jsx)(f.hU,{accessibilityLabel:T._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:n,size:l||"md",onClick:({event:e})=>{e.stopPropagation(),(0,g.My)("mweb.unauth.see_more.shown"),(0,g.LW)({action:"click",pageLocation:O,item:"seo-vase-see-more-button"}),A(!0),u&&(0,g.My)("mweb.unauth.see_more.main_pin.shown")}}),j&&E?(0,x.jsx)(f.xu,{display:I?"flex":"none",children:R}):(0,x.jsx)(r.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:I&&!z,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,x.jsx)(f.xu,{color:(0,p.Yc)()?"darkGray":"white",dangerouslySetInlineStyle:{__style:{border:(0,p.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:E?"100%":"100vw",zIndex:new f.Ry(1),children:(0,x.jsx)(f.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:S?0:12,children:R})})}),z&&I&&(0,x.jsx)(a.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:R})]})}},23084:(e,i,n)=>{n.d(i,{Z:()=>d,j:()=>l});var t=n(898781),o=n(883119),a=n(217468),r=n(349700),s=n(785893);const l=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,t.ZP)(),p=(0,a.t)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;let _;i?_=(0,r.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!l.includes(d)?_=(0,r.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(_=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(_=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const h=p&&!i?"Ad • ":"";return(0,s.jsxs)(o.xv,{color:c,size:"100",children:[h,_]})}},364245:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(667294),o=n(941646),a=n(898781),r=n(867820),s=n(925927),l=n(883119),d=n(785893);function c({direction:e,handleClick:i,testId:n}){const t=(0,a.ZP)(),c=(0,s.TH)();return(0,d.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{(0,r.LW)({action:"click",pageLocation:c,item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,d.jsx)(o.Z,{id:"board-pills-arrow",children:(0,d.jsx)(l.JO,{accessibilityLabel:t._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function u({name:e,url:i}){const[n,o]=(0,t.useState)(!1),a=(0,s.TH)();return(0,d.jsx)(l.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"lightGray",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:(0,d.jsx)(l.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,d.jsx)(l.rU,{inline:!0,tapStyle:"compress",href:i,rounding:8,onClick:()=>{(0,r.LW)({action:"click",pageLocation:a,item:"vase-tag"})},underline:"hover",children:e}):e})})}function p({annotations:e,mode:i}){const[n,a]=(0,t.useState)(!1),[p,_]=(0,t.useState)(!1),h=(0,s.TH)(),m=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=m.current,n=()=>{if("inlineWithScrollArrows"===i&&m.current){const e=m.current,i=Math.max(0,e.scrollLeft),n=i+e.clientWidth;a(0!==i),_(n<e.scrollWidth)}else a(!1),_(!1)};return n(),null==e||e.addEventListener("scroll",n),()=>{null==e||e.removeEventListener("scroll",n)}}),[i]);const g=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&(0,r.LW)({action:"click",pageLocation:h,item:"board-pills-arrow-button-right"});const n=m.current;if(!n)return;const t=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+t,0),n.scrollWidth)};return(0,d.jsx)(l.kC,{alignItems:"center",justifyContent:"end",children:(0,d.jsxs)(l.xu,{display:"flex",overflow:"hidden",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[n&&(0,d.jsx)(c,{direction:"left",handleClick:g("left"),testId:"left-scroll-arrow"}),(0,d.jsx)(l.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",padding:"4px 0",whiteSpace:"nowrap"}},ref:m,display:"expanded"===i?"flex":void 0,wrap:"expanded"===i,children:e.map((({name:e,url:i})=>(0,d.jsx)(u,{name:e,url:i},i||e)))}),p&&(0,d.jsx)(o.Z,{id:"board-pills-arrow-button-right",children:(0,d.jsx)(c,{direction:"right",handleClick:g("right"),testId:"right-scroll-arrow"})})]})})}},474635:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(667294),o=n(735079),a=n(949372),r=n(53987),s=n(407043),l=n(385740),d=n(867820),c=n(266725),u=n(925927),p=n(785893);function _({children:e,componentType:i,within:n}){const _=(0,u.TH)(),{flushContextEvents:h}=(0,s.v)(),{viewType:m,viewParameter:g}=(0,l.SU)();(0,t.useEffect)((()=>{(0,d.LW)({action:"view",item:"download-button",pageLocation:_,within:n})}),[_,n]),(0,t.useEffect)((()=>{(0,c.j)({component:13106,element:10308,event_type:9976,view_type:129})}),[]);const v=(0,a.Z)();return(0,t.useEffect)((()=>{v||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[v,n]),(0,p.jsx)(o.Z,{children:t=>e({handleOpenApp:e=>{var o;((0,d.LW)({action:"click",item:"download-button",pageLocation:_,within:n}),(0,d.NC)("press_open_app",!0),(0,c.So)({component:i||13106,element:10308,view_type:m,view_parameter:g}),(0,c.j)({component:13106,element:10308,event_type:9977,view_type:129}),h(!0),t)&&t(null!==(o=null==e?void 0:e.deepLinkUri)&&void 0!==o?o:(e=>"/"===e.pathname?"/":(0,r.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1))(_))}})})}},205443:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(966338),o=n(104788),a=n(430322),r=n(898781),s=n(287072),l=n(968228),d=n(194095),c=n(883119),u=n(785893);const p=({isOpen:e,onDismiss:i,onOpenInApp:n,to:d})=>{const p=(0,r.ZP)(),{isTablet:_,userAgent:h,userAgentPlatform:m}=(0,t.useSelector)((({session:e})=>e)),g=(0,l.Rp)({platform:m,userAgent:h}),v=(0,s.Z)({href:null!=d?d:""}),f=_?60:40;return(0,u.jsx)(a.default,{accessibilityModalLabel:"",isOpen:e,mobileHideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,u.jsxs)(c.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,u.jsx)(c.xu,{display:"inlineBlock",position:"absolute",children:(0,u.jsx)(c.xu,{"data-test-id":"appUpsell-continue",children:(0,u.jsx)(c.hU,{accessibilityLabel:p._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{i({event:e}),v&&!e.defaultPrevented&&(n(),v({event:e}))},size:"lg"})})}),(0,u.jsxs)(c.xu,{paddingX:2,paddingY:6,children:[(0,u.jsx)(c.xu,{paddingY:2,justifyContent:"center",display:"flex",children:g?(0,u.jsx)(o.Z,{size:f}):(0,u.jsx)(c.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:f})}),(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.X6,{align:"center",size:"400",children:g?p._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):p._('The best experience is on the app', 'mweb.unauth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an pp')})}),(0,u.jsx)(c.xv,{align:"center",size:"300",children:g?p._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):p._('Free, unlimited access to ideas', 'Value proposition on mobile web home page', 'Value proposition on mobile web home page')}),(0,u.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,u.jsx)(c.zx,{fullWidth:!0,size:"lg",color:"red",onClick:n,text:p._('Get the app', 'mweb.app_upsell.app_upsell_button_text', 'Button to get the Pinterest Lite app')})})]})]})]})})};function _({clientTrackingParams:e,isOpen:i,onDismiss:n,onOpenInApp:t,shouldTrackDismiss:o,to:a,viewParameter:r,viewType:s}){return(0,u.jsx)(d.Z,{clientTrackingParams:e,viewType:s,viewParameter:r,children:(0,u.jsx)(p,{isOpen:i,onDismiss:e=>{o&&(0,d.y)(),n(e)},onOpenInApp:()=>{(0,d.y)(),t()},to:a})})}},194095:(e,i,n)=>{n.d(i,{Z:()=>u,y:()=>c});var t=n(667294),o=n(807609),a=n(674806),r=n(30287),s=n(622096),l=n(957161),d=n(785893);const c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,s.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:i,viewParameter:n,viewType:s}){return(0,o.Z)()||(0,r.FP)(window)?null:(0,d.jsx)(a.Z,{viewType:s,viewParameter:n,component:13106,clientTrackingParams:i,children:(0,d.jsx)(t.Fragment,{children:e})})}},840137:(e,i,n)=>{n.d(i,{ZP:()=>m,j$:()=>h,Ys:()=>p,IS:()=>_});var t=n(883119),o=n(785893);function a({category:e,ingredients:i,textSize:n="lg"}){return(0,o.jsxs)(t.xu,{marginBottom:4,children:[e&&(0,o.jsx)(t.xu,{children:(0,o.jsx)(t.xv,{weight:"bold",size:n,children:e})}),(null!=i?i:[]).map((e=>{var i,a;return(0,o.jsx)(t.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,o.jsxs)(t.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(a=e.name)&&void 0!==a?a:""}`)}))]})}var r=n(134185),s=n(50286),l=n(349700),d=n(578661),c=n(923297),u=n(898781);const p=({m:e,h:i,rm:n,rh:t},o)=>e&&(!i||t<=0)?(0,l.nk)(o.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):i?(0,l.nk)(o.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null,_=({m:e,h:i,rm:n,rh:t,i18n:o})=>e&&(!i||t<=0)?(0,l.nk)(o._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):i?(0,l.nk)(o._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null,h=(e,i)=>{let n;return n=e.cook_times&&e.cook_times.total?(0,c.X)({m:e.cook_times.total.m||0,h:e.cook_times.total.h||0}):(0,c.X)({m:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.m||0,h:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.h||0}),p(n,i)},m=({recipe:e,pinLink:i,image:n})=>{const l=(0,u.ZP)(),c=(0,s.ZP)(),{name:p,categorized_ingredients:_}=e,m=_&&(e=>{const i=e.diets&&e.diets.length>0&&e.diets.join(", "),n=e.servings_summary&&e.servings_summary.summary;return i&&n?`${i} • ${n}`:i||n})(e),g=(e=>e.categorized_ingredients?e.categorized_ingredients.reduce(((e,i)=>{var n,t;return e+(null!==(n=null===(t=i.ingredients)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}),0):0)(e);return h(e,l)||g||m?(0,o.jsxs)(t.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,o.jsxs)(t.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,o.jsx)(t.xu,{marginBottom:4,children:(0,o.jsx)(t.xv,{weight:"bold",align:"desktop"===c?"start":"center",children:l._('Ingredients', 'Ingredients category heading for recipes', 'Ingredients category heading for recipes')})}),(0,o.jsxs)(r.Z,{itemScope:!0,itemType:d.G,children:[(0,o.jsx)("meta",{content:p,itemProp:"name"}),n&&(0,o.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(_)&&_.length>0&&(0,o.jsx)(t.xu,{column:12,"data-test-id":"single-column-ingredients",children:_.map((({category:e,ingredients:i},n)=>(0,o.jsx)(t.xu,{marginBottom:2,children:(0,o.jsx)(a,{category:e,ingredients:i,textSize:"lg"})},n)))})]})]}),(0,o.jsx)(t.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===c?"center":void 0,children:i&&(0,o.jsx)(t.rU,{href:i,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,o.jsx)(t.zx,{text:l._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link')})})})]}):null}},871482:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(667294),o=n(966338),a=n(248975),r=n(50286),s=n(667679),l=n(969230),d=n(185894),c=n(217468),u=n(142958),p=n(870167);function _(e){const i=(0,p.a)(),n=(0,o.useDispatch)(),_=(0,r.ZP)(),h=(0,s.Z)(),m=(0,c.t)("mweb_unauth_extended_save_flow_v2"),{setShowProfileBadge:g,setShowUnauthProfileFlyout:v}=(0,u.U)(),f=(0,t.useRef)(null);(0,t.useEffect)((()=>()=>{f.current&&clearTimeout(f.current)}),[]);const x=!!(e&&i&&i.unauthSavedPinsStore.isSaved(e.id));if(i&&e)return{isSaved:x,onSave:()=>{let t="save";if("desktop"!==_){const{unauthSavedPinsStore:s}=i,l=!!s.pins.length,c=s.canSaveMore();var o,r;if(c)s.save({id:e.id,imageUrl:(0,a.Z)({images:e.images,embedSrc:null===(o=e.embed)||void 0===o?void 0:o.src,embedType:null===(r=e.embed)||void 0===r?void 0:r.type})});else n((0,d.QZ)(e.id));t=c?"extended_save_in_quota":l?"extended_save_out_of_quota":"save"}const s=()=>h({attributionLabel:"tap.closeup.save_button",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:t},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}}});if("desktop"===_||f.current)s();else{const e=m().group.includes("200")?200:500;f.current=setTimeout((()=>{f.current=null,s()}),e)}},onUnsave:()=>{i.unauthSavedPinsStore.unsave(e.id),g(!1),v(!1),(0,l.y3)({action:"unsave_click",placement:"closeup",isAuthenticated:!1})}}}},568388:(e,i,n)=>{n.d(i,{Z:()=>h,z:()=>d});var t=n(667294),o=n(966338),a=n(391254),r=n(281180),s=n(883119),l=n(785893);const d=2500,c={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},_={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},h=(0,t.memo)((({children:e})=>{const i=(0,r.Tt)(),n=(0,o.useSelector)((({pins:e})=>{const n=null==i?void 0:i.last_repin_id;return n?e[n]:null})),t=(0,o.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!t)return e;const{images:d}=n,{height:h,width:m,url:g}=(null==d?void 0:d["136x136"])||(null==d?void 0:d["236x"])||{};return(0,l.jsxs)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(a.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,l.jsxs)(s.xu,{position:"relative",children:[(0,l.jsxs)(s.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:c,children:[(0,l.jsx)(s.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,l.jsx)(s.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(s.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=m?m:1,naturalHeight:null!=h?h:1,src:null!=g?g:""})})})]}),(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:_,children:e})]})]})}))},365087:(e,i,n)=>{n.d(i,{Z:()=>f});var t=n(667294),o=n(966338),a=n(499128),r=n(898781),s=n(728214),l=n(568388),d=n(185894),c=n(343341);var u=n(332611),p=n(479739),_=n(500594),h=n(56961),m=n(925927),g=n(785893);const v=()=>{};function f({clientTrackingParams:e,experience:i,hasSaveHandoffExperience:n,onError:f,onTouch:x,onUnsave:b,pinId:y,pinnedToBoardId:w,shouldShowSavedButton:P,showSingleToast:k}){var T;const S=(0,r.ZP)(),j=(0,o.useDispatch)(),I=(0,m.k6)(),A=(0,m.TH)(),{showToast:C}=(0,c.F9)(),z=function({showSingleToast:e}){const i=(0,o.useDispatch)(),n=(0,c.F9)()[e?"showOneToast":"showToast"];return(e,t)=>{t||i(d.WF),setTimeout((()=>{t||i(d.a5),n(e)}),l.z)}}({showSingleToast:k}),L=A.pathname.startsWith("/pin"),D=(0,o.useSelector)((({session:e})=>e.hasSavedUnauthPin)),Z=(0,o.useSelector)((({session:e})=>e.unauthSavePinId)),E=null===(T=(0,o.useSelector)((e=>(0,p.ts)(e))))||void 0===T?void 0:T.pin_count,O=(0,t.useRef)(null),R=n&&!D,U=(0,s.Z)(),B=y?()=>{j((0,h.Bp)({history:I,i18n:S,onSuccess:()=>{i&&j((0,u.CK)(i.placement_id,i.experience_id))},originalPinId:y,pinId:y,trackingParams:{clientTrackingParams:e,pinnedToBoardId:w},showRepinConfirmation:n&&!L?()=>{}:z,disableRepinAnimation:Z===y,pinCount:E})).catch((e=>{C((({hideToast:i})=>(0,g.jsx)(a.ZP,{variant:"error",text:e.message||S._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i}))),null==f||f()}))}:v;if((0,t.useEffect)((()=>{R&&!O.current&&y&&(B(),j((0,d.e2)())),O.current=R})),!y)return null;return U({fn:e=>{e.stopPropagation(),e.preventDefault(),x&&x(e),P?P&&b&&b(e):B()},modalHeader:(0,_.Bx)(S)})}},569046:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(966338),o=n(568388),a=n(708206),r=n(185894),s=n(343341),l=n(785893);const d=(0,a.compose)((0,t.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,r.a5)()),showRepinAnimation:()=>e((0,r.WF)())}})),(function(e){return i=>{const{hideRepinAnimation:n,showRepinAnimation:t}=i,{showToast:a,showOneToast:r}=(0,s.F9)();return(0,l.jsx)(e,{...i,showToast:a,showOneToast:r,showRepinConfirmation:(e,i)=>{i||t(),setTimeout((()=>{i||n(),a(e)}),o.z)}})}}))},877867:(e,i,n)=>{n.d(i,{a:()=>l});var t=n(499128),o=n(388008),a=n(789363),r=n(56961),s=n(785893);const l=({dispatch:e,i18n:i,showToast:n,newPinId:l,shouldRefresh:d=!1,sourcePinId:c,boardId:u,boardSectionId:p,onError:_,originalPinId:h,onSuccess:m})=>e((0,r.q$)(l,u,p)).then((()=>{h&&e((0,r.t_)(h,u,p)),e((0,r.t_)(c,u,p)),d&&(p&&e((0,a.A4)(p)),u&&e((0,o.uD)(u))),n((({hideToast:e})=>(0,s.jsx)(t.ZP,{text:i._('Pin deleted!', 'Utils.Unsave.Success', 'User deleted their pin'),onHide:e}))),m&&m()})).catch((()=>{n((({hideToast:e})=>(0,s.jsx)(t.ZP,{variant:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Utils.Unsave.Error', 'Error when user tried to delete pin'),onHide:e}))),null==_||_()}))},691426:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(966338),o=n(898781),a=n(728214),r=n(871482),s=n(877867),l=n(925927),d=n(343341);function c(e,i,n){const c=(0,t.useDispatch)(),{showSingleToast:u,onError:p}=n||{},_=(0,a.Z)(),h=(0,d.F9)()[u?"showOneToast":"showToast"],m=(0,o.ZP)(),g=(0,r.Z)(e),v=(0,l.k6)(),{isAuthenticated:f,userId:x}=(0,t.useSelector)((({session:e})=>e)),b=null==e?void 0:e.pinner,y=_({fn:()=>{if(!e||!i||!b)return void(null==p||p());const n=b.id===x,t=!n&&e.savedThisSession?e.savedThisSession:e.id,o=!n&&e.pinned_to_board&&e.pinned_to_board.id?e.pinned_to_board.id:i.id,a=n?v.goBack():void 0,r=e.section?e.section.id:void 0;(0,s.a)({dispatch:c,i18n:m,showToast:h,newPinId:t,shouldRefresh:!0,sourcePinId:e.id,boardId:o,boardSectionId:r,onSuccess:a,onError:p})}});return f?y:(null==g?void 0:g.onUnsave)||(()=>{})}},285230:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(166300),o=n(898781),a=n(883119),r=n(785893);function s({isPinRep:e}){const i=(0,o.ZP)(),n=e?"default":"inverse",s=(0,r.jsx)(a.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,r.jsx)(a.xu,{color:e?"lightGray":"darkGray",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,r.jsxs)(a.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(a.xu,{paddingY:4,children:(0,r.jsx)(a.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,r.jsx)(a.xv,{align:"center",color:n,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,r.jsx)(a.xu,{paddingY:1,children:(0,r.jsx)(a.xv,{align:"center",color:n,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?s:(0,r.jsx)(a.xu,{height:"100vh",children:(0,r.jsx)(t.Z,{children:s})})}},957980:(e,i,n)=>{n.d(i,{Z:()=>m});var t=n(667294),o=n(248975),a=n(898781),r=n(667679),s=n(349700),l=n(755506),d=n(864537),c=n(867820),u=n(925927),p=n(883119),_=n(785893);const h=({children:e,onTap:i})=>{const[n,o]=(0,t.useState)(!1);return(0,_.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,_.jsx)(p.iP,{onTap:i,onBlur:()=>o(!1),onFocus:()=>o(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:e})})};function m({desktopContextMenuState:e,pin:i,pinner:n,isMainPinImage:m}){var g,v,f,x;const b=(0,a.ZP)(),y=(0,u.k6)(),w=(0,o.Z)({images:i.images,embedSrc:null===(g=i.embed)||void 0===g?void 0:g.src,embedType:null===(v=i.embed)||void 0===v?void 0:v.type}),P=(0,l.Fi)({i18n:b,pin:i});let{sourceUser:k}=P;var T;k&&"string"!=typeof k||(k=null!==(T=i.link_domain)&&void 0!==T&&T.official_user?i.link_domain.official_user:n);const{full_name:S,username:j}=k,I=(null===(f=i.pin_join)||void 0===f?void 0:f.seo_breadcrumbs)&&i.pin_join.seo_breadcrumbs[0],A=null==I?void 0:I.name,C=null==I?void 0:I.url,[z]=(null===(x=i.pin_join)||void 0===x?void 0:x.visual_annotation)||[],L=(0,d.NO)(z),D=`/search/pins/?q=${encodeURIComponent(L)}&rs=image_only_attribution`,Z=(0,r.Z)();return w?(0,_.jsxs)(p.xu,{position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new p.Ry(99999),color:"white",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,_.jsx)(p.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,_.jsx)(p.JO,{icon:"pinterest",accessibilityLabel:b._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.save_image"),Z({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i.id}}})},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!m&&(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.open_plp_new_tab"),window.open(`/pin/${i.id}/`),Z({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(z||!(!A||!C))&&(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.see_more_pins"),C?y.push(`${C}`):y.push(D)},children:A?(0,_.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:A})}):(0,_.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:z})})}),!(!S||!j)&&(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.more_from_creator"),y.push(`/${j}/`)},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:S})})}),(0,_.jsx)(t.Fragment,{children:(0,_.jsx)(h,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.login_signup"),Z({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.login_signup",desktopOptions:{modalType:"login"}})},children:(0,_.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}},803035:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),o=n(157983),a=n(883119),r=n(785893);const s=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:s,truncate:l=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return l?(0,r.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(a.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(a.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]}):(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,r.jsx)(a.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(o.Z,{isVerifiedMerchant:"verifiedMerchant"===s,size:e,showVerifiedIdentity:"verifiedIdentity"===s})})]})]})}},104788:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(785893);function o({size:e,noCircle:i}){return(0,t.jsxs)("svg",{height:e,style:{display:"block"},viewBox:i?"3 3 70 70":"-3 -3 82 82",width:e,children:[i?null:(0,t.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,t.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},558150:(e,i,n)=>{function t(e){if(e){const i=e.shopping_flags||[],n={pin_is_shop_the_look:i.includes(2),pin_show_pdp:e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)};return JSON.stringify(n)}}n.d(i,{Z:()=>t})},968228:(e,i,n)=>{n.d(i,{G3:()=>c,Rp:()=>d,kp:()=>l});var t=n(622096),o=n(202139),a=n(957161);const r=14*o.F4;function s(e,i,n){return e-i>n}const l=e=>{const i=function(){const e=Date.now(),i=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:i,showedAppUpsellCurrentSession:Boolean((0,t.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,i,n){const{currentTime:t,firstUpsellTime:o,lastUpsellTime:l,showedAppUpsellCurrentSession:d}=e;return n=n||r,!o||function(e,i,n){return e<i+n}(t,o,i)?!d:!!s(t,l,n)&&((0,a.L_)("firstUpsellTime"),!0)}(i,o.F4):function(e,i){const{currentTime:n,lastUpsellTime:t}=e;return i=i||r,!t||s(n,t,i)}(i)},d=({platform:e,userAgent:i})=>{try{return"android"===e&&parseFloat((e=>{const i=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return i?i[1]:void 0})(i))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},755506:(e,i,n)=>{n.d(i,{AH:()=>a,CK:()=>o,Fi:()=>t});const t=({i18n:e,isLego:i,pin:n,useGridTitleOrRichSummary:t})=>{var o;const a=n.link_domain,r=n.native_creator,s=n.rich_metadata,l=n.rich_summary,d=n.attribution;let c,u,p,_,h,m,g,v,f=i?e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'):e._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),x=e._('Visit', 'pin outbound link text', 'pin outbound link text'),b="",y="",w=!1;if(r?v=r:a?(v=a.official_user,y=n.domain,w=!0):(v=n.origin_pinner||n.pinner,n.origin_pinner&&(w=!0)),w&&null!==(o=v)&&void 0!==o&&o.username?(m=`/${v.username}/`,g=v.full_name):g=y,!a||s&&s.recipe&&s.recipe.from_aggregated_data)f=e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation');else{const t=!!(s&&s.recipe&&s.recipe.name&&s.recipe.categorized_ingredients);let o;s&&s.products&&s.products[0]&&(o=!!(s&&s.products[0].name&&s.products[0].offer_summary));const a=!(!s||!s.article),r=!(!s||!s.tutorial);var P,k,T;if(o)f=e._('Product sold by ', 'pin annotation', 'pin annotation'),_=null==s||null===(P=s.products)||void 0===P?void 0:P[0].offer_summary,h=null==s||null===(k=s.products)||void 0===k?void 0:k[0].shipping_info,b=null==s||null===(T=s.products)||void 0===T?void 0:T[0].name;else if(r)i&&(f=e._('From ', 'pin annotation', 'pin annotation')),f=e._('Saved from ', 'pin annotation', 'pin annotation');else if(t){var S,j,I,A;f=e._('Recipe from ', 'pin annotation', 'pin annotation'),x=e._('Make it ', 'pin outbound link text', 'pin outbound link text'),b=null==s||null===(S=s.recipe)||void 0===S?void 0:S.name,u=null==s?void 0:s.closeup_description,p=null!==(j=null==s?void 0:s.recipe)&&void 0!==j?j:null,null!==(I=p)&&void 0!==I&&null!==(A=I.aggregate_rating)&&void 0!==A&&A.rating_value&&"number"==typeof p.aggregate_rating.review_count&&(null!=s&&s.site_name||n.domain)?p.aggregate_rating.review_source=(null==s?void 0:s.site_name)||n.domain:p&&(p.aggregate_rating=null)}else if(a){var C;c=(null==s||null===(C=s.article)||void 0===C?void 0:C.date_published)&&new Date(s.article.date_published),b=null==s?void 0:s.title,f=e._('Article from ', 'pin annotation', 'pin annotation'),x=e._('Read it ', 'pin outbound link text', 'pin outbound link text')}}if(!_&&l){let i;var z,L,D;if(l&&l.products&&l.products[0])if(i=!!(l&&l.products[0].name&&l.products[0].offer_summary),i)f=e._('Product sold by ', 'pin annotation', 'pin annotation'),_=null===(z=l.products)||void 0===z?void 0:z[0].offer_summary,h=null===(L=l.products)||void 0===L?void 0:L[0].shipping_info,b=null===(D=l.products)||void 0===D?void 0:D[0].name}const Z=(n.unified_user_note||"").trim();b=n.grid_title||n.title;let E=b;if(!E&&t){const e=n.grid_title;E="string"==typeof e?e:(n.rich_summary||{}).display_name}u=n.closeup_unified_description&&n.closeup_unified_description.trim();return{actionButtonText:x,avatar:v&&"string"!=typeof v&&(v.image_medium_url||v.image_small_url)||"",pinArticleDate:c,pinAttribution:d,pinCreditLink:m,pinCreditPrefix:f,pinCredit:g,pinDescription:u,pinDownloadTitle:E,pinProduct:_,pinShippingInfo:h,pinTitle:b,pinCategory:n.category,pinRecipe:p,sourceUser:v,trimmedUserNote:Z}},o=e=>{const i=e.rich_metadata;return i?i.products?144:i.article?141:i.recipe?145:139:140},a=e=>!!e.link&&!e.link.startsWith("https://i.pinimg.com")},550407:(e,i,n)=>{n.d(i,{B:()=>d,g:()=>c});var t=n(667294),o=n(867820),a=n(50286),r=n(957980),s=n(785893);const l=(0,t.createContext)((()=>()=>{})),d=()=>(0,t.useContext)(l),c=({children:e})=>{const[i,n]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),[u,p]=(0,t.useState)(null),[_,h]=(0,t.useState)(!1),m=(0,a.HG)(),g=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,t.useEffect)((()=>g),[]);const v=(0,t.useCallback)(((e,i,t)=>a=>{m&&(a.preventDefault(),c(e),i&&p(i),h(t),(0,o.My)("dweb.unauth.context_menu.open_menu"),n({xPosition:a.clientX,yPosition:a.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"))}),[m]),f=!!i;return(0,t.useEffect)((()=>{const e=()=>{n(null),g(),(0,o.My)("dweb.unauth.context_menu.click_away")};return f&&document.addEventListener("click",e),()=>{f&&document.removeEventListener("click",e)}}),[f]),(0,s.jsx)(l.Provider,{value:v,children:(0,s.jsxs)(t.Fragment,{children:[e,m&&i&&d&&u&&(0,s.jsx)(r.Z,{desktopContextMenuState:i,pin:d,pinner:u,isMainPinImage:!!_})]})})}},634291:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(667294),o=n(807609),a=n(957161);const r=e=>{const i=(0,a.qn)(e);if(!i)return null;try{return JSON.parse(i)}catch(n){return null}};var s=n(217468);const l=()=>{const[e,i]=function(e){const i=(0,o.Z)(),[n,s]=(0,t.useState)(i?null:r(e));return(0,t.useEffect)((()=>{s(r(e))}),[e]),[n,(0,t.useCallback)((i=>{s(i),null===i?(0,a.L_)(e):(0,a.Nh)(e,JSON.stringify(i))}),[e])]}("unauthSavedPins"),n=null!==(d=null==(l=e)?void 0:l.pins)&&void 0!==d?d:[];var l,d;const c=e=>i((e=>e.length?{pins:e}:null)(e)),u=(0,s.t)("mweb_unauth_extended_save_flow_v2"),p=()=>n.length<(u().anyEnabled?1:0);return{pins:n,save:e=>{p()&&c(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>c(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>c([]),canSaveMore:p}}},388008:(e,i,n)=>{n.d(i,{$z:()=>g,KQ:()=>j,L1:()=>k,OA:()=>v,SD:()=>_,Vq:()=>P,Xi:()=>h,YQ:()=>f,YV:()=>S,dK:()=>w,g:()=>y,of:()=>d,uD:()=>b,xR:()=>m,xk:()=>T});var t=n(172071),o=n(6637),a=n(163786),r=n(165791),s=n(782677),l=n(983360);const d=e=>({type:l.XV,payload:{boardId:e}}),c=(e,i)=>({type:l.Aj,payload:{boardId:e,value:i}}),u=(e,i,n,t)=>({type:l.wc,payload:{boardId:e,viewingUser:i,status:n,collaboratingUsers:t}}),p=(e,i)=>({type:l.Wn,payload:{...i,id:e}}),_=(e,i)=>n=>(n(((e,i)=>({type:l.Tl,payload:{boardId:e,collaboratingUser:i}}))(e,i)),o.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:i.id}).callUpdate()),h=(e,i=!1,n)=>t=>(t(((e,i,n)=>({type:l.AZ,payload:{boardId:e,isRequestToJoin:i,collaboratingUser:n}}))(e,i,n)),o.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:null==n?void 0:n.id}).callUpdate()),m=(e,i)=>n=>(n(((e,i)=>({type:l.CD,payload:{boardId:e,userId:i}}))(e,i)),o.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:i}).callDelete()),g=(e,i,n)=>t=>(t(u(e,i,"new",n)),o.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:n.map((({id:e})=>e))}).callCreate()),v=(e,i)=>()=>o.ZP.create("BoardEmailInviteResource",{board_id:e,emails:i}).callCreate(),f=(e,i,n,t)=>a=>{var r,s;const d="accepted"===i?"BoardCollaboratorResource":"BoardInviteResource";return a(((e,i,n)=>({type:l.Fi,payload:{boardId:e,userId:i,viewingUser:n}}))(e,null!==(r=null==t?void 0:t.id)&&void 0!==r?r:"",n)),o.ZP.create(d,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(s=null==t?void 0:t.id)&&void 0!==s?s:""}).callDelete().catch((()=>a(u(e,n,i,[t]))))};function x(e,i){return o.ZP.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:i})}const b=e=>i=>{const n={board_id:e},t="BoardResource";return o.ZP.create(t,n).callGet().then((n=>{var t;const o=null===(t=(0,s.Fv)(n.resource_response.data,a.Z.BoardResource).entities)||void 0===t?void 0:t.board,r=o&&o[e];return r&&i(p(e,r)),n}))},y=e=>(i,n)=>{const{session:{userId:t}}=n();x(e,t).callCreate().catch((()=>{i(c(e,!1))})),i(c(e,!0))},w=e=>(i,n)=>{const{session:{userId:t}}=n();x(e,t).callDelete({showError:!1}).catch((()=>{i(c(e,!0))})),i(c(e,!1))},P=(e,i)=>(n,t)=>{const{boards:r}=t(),l=r[e];return n(p(e,i)),o.ZP.create("BoardResource",{...i,board_id:e}).callUpdate().then((i=>{const t=(0,s.Fv)(i.resource_response.data,a.Z.BoardResource);return n(p(e,t.entities.boards[e])),i})).catch((i=>{throw l&&n(p(e,l)),i}))},k=(e,i,n,t)=>a=>{const r=o.ZP.create("BoardResource",{board_id:n}).callDelete();return a(((e,i,n,t)=>({type:l.OC,payload:{viewingUserId:e,viewingUsername:i,boardId:n,boardPinCount:t}}))(e,i,n,t)),r},T=(e,i)=>n=>o.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate().then((t=>{var o,a;return n((0,r.Q)("archived-boards",[{id:e,type:"board"}])),n((o=e,a=i,{type:l.VP,payload:{boardId:o,username:a}})),t})),S=(e,i)=>n=>o.ZP.create("BoardArchiveResource",{boardId:e}).callDelete().then((t=>{var o;return n((0,r.Q)(`profile-boards:${i}`,[{id:e,type:"board"}])),n((o=e,{type:l.s1,payload:{boardId:o}})),t})),j=(e,i)=>n=>o.ZP.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((o=>{if(!o||!o.resource_response)return{};const a=o.resource_response.data||{},r=(a.model||{}).custom_properties||{},{campaign_id:s="unknown"}=r,d=a.display_data||{},c=!!a.display_data,u=d.header_image_mobile,p=d.header_background_color,_=d.text_icon_color,h={boardId:e,isSocialSeasonalBoard:c,socialHeaderBgImage:u,socialHeaderBgColor:p,textIconColor:_};return t.Z.increment(`mweb.seasonal_board.${s}.${i}.land`),n((e=>({type:l.o3,payload:e}))(h))}))},789363:(e,i,n)=>{n.d(i,{A4:()=>p,ET:()=>m,Nv:()=>u,PA:()=>d,X_:()=>h,ic:()=>_,o4:()=>c});var t=n(6637),o=n(163786),a=n(414327),r=n(782677),s=n(983360);const l=(e,i)=>({type:s.nk,payload:i}),d=(e,i)=>n=>t.ZP.create("BoardSectionEditResource",{...i,section_id:e}).callCreate().then((e=>(n(l(0,i)),e.resource_response.data))),c=(e,i,n,o)=>a=>{const r=t.ZP.create("BoardSectionEditResource",{section_id:i}).callDelete();return a(((e,i,n,t)=>({type:s.Yn,payload:{userId:e,boardSectionId:i,boardId:n,pinCount:t}}))(e,i,n,o)),r},u=(e,i,n)=>l=>{const d={board_id:e,initial_pins:i,name:n},c="BoardSectionResource";return t.ZP.create(c,d).callCreate().then((n=>{const t=n.resource_response.data,u=(0,r.Fv)(t,o.Z[c]);return l((0,a.XM)(c,d,n,u)),i.length&&l({type:s.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:t.id},pinIds:i}}),n}))},p=e=>i=>{const n={section_id:e},a="BoardSectionResource";return t.ZP.create(a,n).callGet().then((n=>{const t=(0,r.Fv)(n.resource_response.data,o.Z[a]).entities.boardsections[e];return i(l(0,t)),n}))},_=e=>i=>{const{source:n,target:l,pinIds:d}=e;if(i({type:s.u2,payload:e}),n.boardlessPins||l.boardId!==n.boardId){const e={board_id:l.boardId,pin_ids:d,section_id:l.sectionId},i="BulkEditResource";return t.ZP.create(i,e).callUpdate()}if(l.sectionId){const e={section_id:l.sectionId,pins:d},n="BoardSectionEditResource";return t.ZP.create(n,e).callUpdate().then((t=>{const s=(0,r.Fv)(t.resource_response.data,o.Z[n]);return i((0,a.XM)(n,e,t,s)),t}))}const c={section_id:n.sectionId,pins:d};return t.ZP.create("BoardSectionPinsResource",c).callDelete()},h=e=>i=>{i({type:s.Fl,payload:e});const{source:n,target:o,excludePinIds:a}=e,r={board_id:n.boardId,new_board_id:o.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:o.sectionId};return t.ZP.create("BulkEditSelectAllResource",r).callUpdate()},m=(e,i,n,t)=>o=>o(u(e,[],i)).then((i=>{const a=i.resource_response.data.id;return o(h({source:{boardId:e,sectionId:t},target:{boardId:e,sectionId:a},excludePinIds:n}))}))},716235:(e,i,n)=>{n.d(i,{a:()=>o,k:()=>a});var t=n(983360);const o=e=>({type:t.cZ,payload:e}),a=e=>({type:t.U1,payload:e})},310227:(e,i,n)=>{n.d(i,{Dv:()=>a,Oc:()=>t,mv:()=>o});const t=16,o=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},283698:(e,i,n)=>{function t(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(i,{Z:()=>t})},81226:(e,i,n)=>{function t(e){const i=Math.round(e/1e3),n=i%60;return Math.floor(i/60)+":"+(n<10?"0":"")+n}n.d(i,{Z:()=>t})},966476:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(667294);const o=()=>{const[e,i]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{i(!0)}),[]),e}},903095:(e,i,n)=>{n.d(i,{Mi:()=>o,lO:()=>a});var t=n(425288);const{Provider:o,useMaybeHook:a}=(0,t.Z)("pageContext")},375571:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),o=n(172071),a=n(395164);function r(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class s extends t.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,i){try{const i=this.props.name,n=this.props.type||"secondary";(0,a.T)({errorBoundary:i,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),o.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){o.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:i})}render(){const{renderErrorState:e}=this.props,{error:i,info:n}=this.state;return i&&n?e?e({error:i,info:n,resetError:this.resetError}):null:this.props.children}}},319915:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n(375571).Z},373420:(e,i,n)=>{n.r(i),n.d(i,{default:()=>d});var t=n(667294),o=n(124580),a=n(223815),r=n(968121),s=n(883119),l=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:_,footer:h,heading:m,onDismiss:g,role:v,size:f,subHeading:x}){(0,t.useEffect)((()=>(o.Z.pause(),function(){o.Z.resume()})),[]);return(0,l.jsx)(s.mh,{zIndex:r.b7,children:(0,l.jsx)(a.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,l.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,closeOnOutsideClick:_,heading:m,footer:h,onDismiss:()=>{o.Z.resume(),g()},role:v,size:f,subHeading:x,children:p})})})}},430322:(e,i,n)=>{n.r(i),n.d(i,{default:()=>m});var t=n(667294),o=n(124580),a=n(283698),r=n(223815),s=n(50286),l=n(898781),d=n(494349),c=n(780280),u=n(883119),p=n(968121),_=n(867820),h=n(785893);function m({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n="center",allowScroll:m=!1,children:g,closeOnOutsideClick:v=!0,footer:f,heading:x,mobileAccessibilityCloseIconLabel:b,mobileHideCloseIcon:y,mobileIsFullscreen:w,isOpen:P,mobileIsSlideUp:k,modalStyle:T,onDismiss:S,overrideZDepth:j,subHeading:I,type:A}){const C=(0,l.ZP)(),{isRTL:z}=(0,c.B)(),L=(0,t.useRef)(!1),[D,Z]=(0,t.useState)(!1),{setAppFocusState:E}=(0,d.I)(),O=(0,s.ZP)();(0,t.useEffect)((()=>{(0,_.My)(`mweb_unauth.mobile_modal.${A||"unknown_type"}.did_mount.is_open.${String(!!P)}`)}),[P,A]),(0,t.useEffect)((()=>(L.current=(0,a.Z)((()=>{L.current&&Z(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&L.current&&(window.cancelAnimationFrame(L.current),L.current=null)})),[]),(0,t.useEffect)((()=>(P?(o.Z.pause(),E(!1)):(o.Z.resume(),E(!0)),()=>{P&&(o.Z.resume(),E(!0))})),[E,P]);const R=P&&!m;(0,t.useEffect)((()=>(R&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{R&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()})),[R]);const U=(0,p.bf)();if(!P)return null;const B=k?(0,p.Vf)({isFullscreen:w,isTablet:"tablet"===O,isShowing:D,type:A}):(0,p.JN)({isFullscreen:w,isTablet:"tablet"===O,modalStyle:T,type:A});return(0,h.jsx)(r.Z,{children:(0,h.jsx)(u.mh,{children:(0,h.jsxs)(u.xu,{"aria-label":i,display:"inlineBlock",zIndex:j?new u.Ry(j):p.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(u.iP,{accessibilityLabel:C._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const i=e,n=S?"with":"without",t=A||"unknown_type";(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${t}.${n}_dismissal`,{x:i.clientX,y:i.clientY}),v&&S&&S()},tapStyle:"none",children:(0,h.jsx)(u.xu,{position:"fixed",top:!0,left:!0,dangerouslySetInlineStyle:U})}),(0,h.jsxs)(u.xu,{position:"fixed",color:"white",dangerouslySetInlineStyle:B,children:[b&&!y&&(0,h.jsxs)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,h.jsx)(u.xu,{display:"flex",alignItems:"center",padding:2,children:(0,h.jsx)(u.hU,{accessibilityLabel:b,iconColor:"darkGray",icon:"cancel",onClick:S,padding:4,size:"sm"})}),(0,h.jsxs)(u.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:(0,p.ju)(Boolean(z)),children:[w?x:(0,h.jsx)(u.xv,{align:n,weight:"bold",size:"400",children:x}),I&&(0,h.jsx)(u.xv,{align:n,children:I})]})]}),(0,h.jsxs)(u.xu,{overflow:e?"visible":"auto",children:[g,f]})]})]})})})}},954571:(e,i,n)=>{n.d(i,{Z:()=>t});function t(e,i){if(!(e||{}).created_at&&!(i||{}).createdAt)return!1;let n="";i&&i.createdAt?n=i.createdAt:e&&e.created_at&&(n=e.created_at);const t=new Date(n);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},166300:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(50286),o=n(883119),a=n(444445),r=n(134879),s=n(785893);const l=({children:e,roundedForLargeDevice:i})=>{const n="phone"!==(0,t.ZP)()&&i;return(0,r.V)()?(0,s.jsx)(o.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,s.jsx)(r.C,{value:!1,children:e})}):e}},627995:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(927104),o=n(898781),a=n(903095),r=n(112690),s=n(883119),l=n(785893);const d=(e,i)=>{let n={};if(e){const{pinData:t,viewData:o}=e;n={unauth_click_pin_id:t.id,unauth_click_pin_image_signature:t.imageSignature},3===i?n={...n,unauth_page_pin_id:o.id,unauth_page_pin_image_signature:o.imageSignature}:5===i&&(n={...n,unauth_page_board_id:o.id})}return n},c=({clickLoggingOptions:e,domain:i,link:n,onClick:c})=>{var u;const p=null===(u=(0,a.lO)())||void 0===u?void 0:u.logging,_=(0,o.ZP)(),h=(0,r.Z)(),m=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((i=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,l.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),m().forEach((e=>h(e))),c(e)},children:(0,l.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,l.jsx)(s.xu,{marginEnd:1,children:(0,l.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:_._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,l.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),m().forEach((e=>h(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,l.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,t.Z)(i,27)})})]})})}},55275:(e,i,n)=>{n.d(i,{P:()=>r,t:()=>s});var t=n(6637);const o=()=>{};const a={complaint:function(e,i){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){t.ZP.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){t.ZP.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){t.ZP.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){t.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>i()))},promotedComplaint:function(e,i){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){t.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){t.ZP.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){t.ZP.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){t.ZP.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){t.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>i()))}},r=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,i,n=o){const t=e?a[e]:null;return t?t(i,n):n()}},680046:(e,i,n)=>{n.d(i,{EF:()=>u,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var t=n(966113),o=n(55275),a=n(760372);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:i})=>({getLearnMoreUrl:e=>{switch(e){case 1:return t.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return t.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:t,feedbackType:o,makeNavigateLink:a,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:o,url:u}=d.board,p=a("navigation",u,o);return i(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:p});case"topic":const{name:_,url_name:h}=c,m=a("topicUrl",`/topics/${h}`,_);return i(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:m});case"followed":const g=`/${s.username}`,v=a("boardUrl",t.url,r(t.name)),f=a("pinnerUrl",g,r(s.full_name));return s.explicitly_followed_by_me?i(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f}):i(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:v});case"promoted":switch(n){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:n,username:t}=l,o=a("promotedLink",t?"/"+t+"/":"/",n);return i(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:i,viewParameter:n,pin:{promoter:t,is_downstream_promotion:o,recommendation_reason:a},pinner:r}){const s=i&&i.type;return t&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(a)?a.board?"pfyBoard":"pfy":a&&"FOLLOWED_INTEREST"===a.reason?"topic":e&&e.followed_by_me||r&&r.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:i,pinId:n,recommendationReasonId:t,pinFeedbackType:o,complaintReason:a,throughId:r,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===i;let c,u;switch(i){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(i){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:a||0,pin_id:n,...t?{recommendation_reason_id:t}:{},feedback_type:o||1,promoted:d,...r?{through_id:r}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:t,makeNavigateLink:o,pinner:r,sourceInterest:s})=>{if("topic"===t){if(s){const{id:n,name:t,url_name:r}=s,l=o("topicUrl",`/topics/${r}`,t,!0),d=i(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:a.X},title:"",subTitle:d}}}else if("followed"===t&&n&&r){const{id:t,name:a,url:s}=n||{},{explicitly_followed_by_me:l,full_name:d,username:c}=r,u=`/${c}`,p=o("boardUrl",s,a,!0),_=o("pinnerUrl",u,d,!0);let h=l?i(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:_,formattedBoard:p}):i(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p});return h=l?i(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:_}):i(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:t},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,i,n,t,a,r,s){return()=>{const l={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,o.t)(d,l),r(n),s({event_type:101,component:0,element:11181,view_type:t,view_parameter:a})}}},248975:(e,i,n)=>{function t({embedSrc:e,embedType:i,images:n,preferredResolution:t}){if(!e&&!i&&!n)return"";if("gif"===i)return e||"";const o=n;if(!o)return"";if(t){const e="474x"===t&&o["474x"]||"236x"===t&&o["236x"]||o["736x"];if(e&&e.url)return e.url}const a=Object.keys(o).map((e=>{try{const i=e.split("x")[0];return Number.isNaN(Number(i))?(o[i]=o[e],i):e}catch(i){return""}}));a.sort();const r=a.pop();return o[r]&&o[r].url||""}n.d(i,{Z:()=>t})},958007:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(992750);const o=e=>(e||"").trim().replace(/\s+/g," "),a=e=>{const i=e||{};return!!i.story_pin_data_id?o(i.description):o((0,t.eK)(i).description)||o(i.closeup_unified_description||"")||o(i.closeup_description)||o(i.description)||o(i.rich_metadata&&i.rich_metadata.description)||""}},992750:(e,i,n)=>{n.d(i,{hP:()=>_,fs:()=>d,eK:()=>c,k0:()=>p,Ly:()=>u,RC:()=>s,EU:()=>l});const t=/\s\s+/g,o=e=>e.replace(t," ");var a=n(883561);const r=e=>"string"==typeof e?e:"",s=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,l=(e,i)=>e?e.trim().length>i?(0,a.ZP)(e.trim(),i).trim():e.trim():"",d=e=>{const{grid_title:i}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:t}=(e=>{const{place_summary:i,rich_summary:n}=e||{},t=n&&"mobile application"!==n.type_name;return{hasRichSummary:t,hasRichAttributionTitle:t&&n.display_name,hasPlaceInfo:!!i}})(e),o=s(e),a=l(i,200);return a||(n?(e=>{const{rich_summary:i}=e;let{apple_touch_icon_images:n,favicon_images:t}=i;return n=n||{},t=t||{},{faviconLink:n["50x"]||t["50x"]||n.orig||t.orig,siteName:i.site_name||e.domain,title:i.display_name}})(e).title:t?(e=>{const{place_summary:i}=e;return{faviconLink:i.source_icon,siteName:i.source_name||e.domain,title:i.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},c=e=>{const i=e.pin_join||{},n=i.visual_annotation||[],t=n.map((e=>(i.annotations_with_links||{})[e]||{name:e,url:""}));let r="";const s=(e.rich_metadata||{}).description||"",l=e.closeup_unified_description||"",d=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),c=s.toLocaleLowerCase().trim(),u=l.toLocaleLowerCase().trim();return l&&l.length>3&&u!==d?r=l:s&&s.length>3&&c!==d&&(r=s),r&&(r=o((0,a.ZP)(r,496)).trim()),{description:r,vaseAnnotations:n,annotationsWithLinks:t}},u=(e,i,n)=>{const t=(n||[]).map((e=>e.name)),o=e=>(e||[])[0]||null;return d(e)||o(i)||o(t)||e.title},p=e=>e.startsWith("enabled_0_all_pages_no_keyword_fallback")?0:e.startsWith("enabled_0_all_pages_one_keyword_fallback")?1:null,_=(e,i,n,t,o,a,s)=>{const l=r(e).trim();let d=l;if(!n&&!t)return o&&o.trim().length?o:d;const c=n;if(o&&o.trim().length)d=o;else if(c){const e=c.toLowerCase(),n=r(i);e!==l.toLowerCase()&&e!==n.trim().toLowerCase()&&(d=c)}let u=t;return u&&u.length>0&&(0===a&&d.length>10?u=[]:0===a&&"number"==typeof s?u=u.slice(0,s):a&&(u=u.slice(0,a)),u=u.join(", "),d&&(d+=" "),d+=u),d}},760372:(e,i,n)=>{n.d(i,{X:()=>t});const t="favorited"},813401:(e,i,n)=>{n.d(i,{kf:()=>g,l5:()=>h,of:()=>p,xC:()=>m,yz:()=>_});var t=n(667294),o=n(172071),a=n(829407),r=n(807609),s=n(30287),l=n(425288),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:i})=>{const[n,r]=(0,t.useState)(null),l=i||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,a.Z)((()=>{const e=(0,s.FB)(window)||"unknown";r(e),u!==e&&o.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,_=l.twaType,h=(0,t.useMemo)((()=>({pwaType:p,twaType:_})),[p,_]);return(0,d.jsx)(c,{value:h,children:e})},_=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.twaType)&&void 0!==e?e:null},m=()=>"android-twa"===_(),g=()=>{const e=_(),i=(0,r.Z)();return"unknown"===e&&i?null:"windows"===e}},561195:(e,i,n)=>{n.d(i,{A:()=>l,Z:()=>d});var t=n(667294),o=n(498913),a=n.n(o),r=n(883119),s=n(785893);const l=({fill:e,width:i,color:n})=>{const o="half"===e?(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(r.xu,{position:"absolute",children:(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,s.jsx)(r.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:i,width:n,color:o}){const r=[],d=function(e,i){return 5*(i=i<=e?i:e)/e}(parseFloat(e)||5,parseFloat(i)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return a()(c,(e=>r.push((0,s.jsx)(l,{color:o,fill:"full",width:n},e)))),u>=.75?r.push((0,s.jsx)(l,{color:o,fill:"full",width:n},r.length)):u>=.25&&r.push((0,s.jsx)(l,{color:o,fill:"half",width:n},r.length)),a()(5-r.length,(()=>r.push((0,s.jsx)(l,{color:o,fill:"empty",width:n},r.length)))),(0,s.jsx)(t.Fragment,{children:r})}},923297:(e,i,n)=>{function t({m:e=0,h:i=0}){let n;return n=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:n}}function o(e){const i=Math.floor(e/3600);return t({m:Math.floor(e%3600/60),h:i})}n.d(i,{X:()=>t,u:()=>o})},134185:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(785893);const o=e=>{const i=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,t.jsx)("div",{...i,children:e.children||null})}},578661:(e,i,n)=>{n.d(i,{G:()=>t});const t="https://schema.org/Recipe"},857079:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(883119),o=n(785893);function a({accessibilityLabel:e}){return(0,o.jsx)(t.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(t.$j,{accessibilityLabel:e,show:!0})})}},497997:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(667294);const o=(0,t.createContext)();var a=n(785893);function r({children:e,fallback:i,dangerouslyServerRenderForGraphQL:n=!1}){const r=i||null;(0,t.useContext)(o);return(0,a.jsx)(t.Suspense,{fallback:r,children:e})}},947599:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n(497997).Z},864537:(e,i,n)=>{n.d(i,{Jc:()=>s,NO:()=>r,R3:()=>a,ge:()=>c,th:()=>l});var t=n(643913);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],a={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function r(e){return(e||"").trim().replace(/\s+/g," ")}function s({type:e,term:i="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return`${i}|${e}`;case a.AUTO_COMPLETE_DEFAULT:return`${i}|autocomplete|${n}`;case a.AUTO_COMPLETE_RECENT_SEARCH:return`${i}|recentsearch|${n}`;case a.AUTO_COMPLETE_TRENDING:return`${i}|trending|${n}`;case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${i}|recommended|${n}`;case a.SEARCH_GUIDE:return`${i}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,t.Z)({term_meta:e.map((e=>s(e)))})}function d(e){if(e){const i=e.trim().split(/\s+/);return i.find((e=>o.includes(e.toLowerCase())))?[e]:i}return[]}function c({type:e,query:i="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return d(i).map((i=>({index:n,term:i,type:e})));case a.AUTO_COMPLETE_RECENT_SEARCH:case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:case a.AUTO_COMPLETE_TRENDING:case a.AUTO_COMPLETE_DEFAULT:return d(i).map((i=>({term:i,type:e,index:n})));default:return[]}}},619277:(e,i,n)=>{n.d(i,{o$:()=>o,ty:()=>a,vE:()=>r});var t=n(425288);const{Provider:o,MaybeConsumer:a,useMaybeHook:r}=(0,t.Z)("inviteContext")},927104:(e,i,n)=>{n.d(i,{Z:()=>t});const t=(e,i)=>e.length>i?e.substr(0,i-3).trim()+"…":e},807609:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(411465),o=n(966476);const a=()=>{const e=(0,t.Z)(),i=(0,o.Z)();return e&&!i}},411465:(e,i,n)=>{n.d(i,{G:()=>s,Z:()=>l});var t=n(667294),o=n(925927),a=n(785893);const r=(0,t.createContext)(!0);function s({children:e}){const i=(0,o.TH)(),[n,s]=(0,t.useState)(!0),l=(0,t.useRef)(i);return(0,t.useEffect)((()=>{l.current!==i&&(l.current=i,s(!1))}),[i]),(0,a.jsx)(r.Provider,{value:n,children:e})}function l(){return(0,t.useContext)(r)}},870167:(e,i,n)=>{n.d(i,{D:()=>o,a:()=>a});var t=n(425288);const{Provider:o,useMaybeHook:a}=(0,t.Z)("unauthPageWrapperContext")},395164:(e,i,n)=>{n.d(i,{T:()=>r,Z:()=>s});var t=n(226198),o=n(314880);const a=[];function r(e){let i;try{i=JSON.stringify({errorObj:e})}catch(l){i=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(r={report_context:JSON.stringify({current_url:window.location.href,client_version:"570b770"}),report_data:i},Object.keys(r).map((e=>e+"="+encodeURIComponent(r[e]))).join("&"));var r;const s=window.btoa(n);if(-1===a.indexOf(s)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const i=(0,o.H)();i&&e.setRequestHeader("X-Pinterest-PWS-Handler",i),e.setRequestHeader("X-CSRFToken",function(e){const i=("; "+document.cookie).split("; "+e.name+"=");return 2===i.length?i.pop().split(";").shift():""}(t.fS)),e.send(n),a.push(s)}a.length>100&&a.shift()}function s(){window.addEventListener("error",(e=>{const i=e.error||{};r({name:i.name,message:i.message||e.message,stack:i.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var i,n,t,o,a;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:s}=e,l="string"==typeof(null==s?void 0:s.message)?s.message:String(s);r({name:null!==(i=null==s?void 0:s.name)&&void 0!==i?i:"unhandledrejection",message:l,message_detail:null==s?void 0:s.message_detail,original_message:null==s?void 0:s.original_message,stack:null==s?void 0:s.stack,filename:null==s?void 0:s.fileName,line:null!==(n=null!==(t=null==s?void 0:s.lineno)&&void 0!==t?t:null==s?void 0:s.line)&&void 0!==n?n:null==s?void 0:s.lineNumber,column:null!==(o=null!==(a=null==s?void 0:s.column)&&void 0!==a?a:null==s?void 0:s.colno)&&void 0!==o?o:null==s?void 0:s.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/84670-2820d251df081275.mjs.map